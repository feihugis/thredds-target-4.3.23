<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<!-- saved from url=(0052)http://www.vets.ucar.edu/luca/netcdf/netcdf.xsd.html -->
<HTML><HEAD>
<META http-equiv=Content-Type content="text/html; charset=windows-1252">
<META content="MSHTML 6.00.2723.2500" name=GENERATOR><title>NcML-2.2</title></HEAD>
<BODY bgColor=#ffffff>
<h1 align=left><B>Annotated Schema for NcML-2.2</B></h1>
<p align=left><em>for version 2.2 of the Netcdf-Java/CDM library</em></p>
<p align=left><em>see also annotations for</em> <a href="AnnotatedSchema4.html">version 4.0</a>.</p>
<hr>
<p align=left>An <em><strong>NcML document</strong></em> is an XML document (aka an <em>instance</em> document) whose contents are described and constrained by <em><strong>NcML Schema-2.2</strong></em>. NcML Schema-2.2 combines the earlier <em>NcML core schema</em> which is an XML description of the netCDF-Java 2.2 / NetCDF-4 data model, with the earlier <em>NcML dataset schema</em>, which allows you to define, redefine, aggregate, and subset existing netCDF 
files.</p>
<p align=left>An NcML document  represents a generic netCDF dataset, i.e. a container for data conforming to the netCDF data model. For instance, it might represent an existing netCDF file, a netCDF file not yet written, a GRIB file read through the netCDF-Java library, a subset of a netCDF file, an aggregation of netCDF files, or a self-contained dataset (i.e. all the data is included in the NcML document and there is no seperate netCDF file holding the data). An NcML document therefore should not necessarily be thought of as a physical netCDF file, but rather the "public interface"  to a set of data conforming to the netCDF data model. </p>
<p align=left><em><strong>NcML Schema-2.2</strong></em> is written in the <a href="http://www.w3.org/XML/Schema">W3C XML Schema</a> language, and essentially represents the netCDF-Java 2.2 / NetCDF-4 data model, which schematically looks like this in <a href="http://bdn.borland.com/article/0,1410,31863,00.html#classdiagrams">UML</a>: </p>
<p align=left>&nbsp;</p>
<p align=left><img src="Netcdf4.png" width="443" height="508"></p>
<blockquote>
  <blockquote>
    <blockquote>
      <p align="left"><strong>netCDF-Java 2.2 / NetCDF-4 UML</strong> </p>
      <p align="left">&nbsp;</p>
    </blockquote>
  </blockquote>
</blockquote>
<h2 align=left>Annotated Schema </h2>
<p align=left>Aggregation specific elements are <font color="#990000">listed in red.</font></p>
<h3 align=left>schema Element  <B><FONT color=#ff0000> </FONT></B></h3>
<pre>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;<br>&lt;xsd:schema targetNamespace=&quot;http://www.unidata.ucar.edu/namespaces/netcdf/ncml-2.2&quot;<br>  xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot;<br>  xmlns=&quot;http://www.unidata.ucar.edu/namespaces/netcdf/ncml-2.2&quot;<br>  elementFormDefault=&quot;qualified&quot;&gt;
</pre>
<h3><B>netcdf Element</B></h3>
<P><FONT color=#0000ff>  The 
      <I><strong>netcdf element</strong> </I>  represents a generic netCDF dataset, i.e. a container for 
    data conforming to the netCDF data model. For instance, a <I>netcdf</I> element might 
    represent an existing <em>netCDF</em> file, a  netCDF file not yet written, a <em>GRIB</em> file read through the netCDF-Java library, a subset of a netCDF file, an aggregation of netCDF files, or a self-contained dataset (i.e. all the 
    data is  included in the NcML document and there is no seperate netCDF file 
    holding the data). An NcML document  therefore 
    should not necessarily be thought of as a physical netCDF file, but rather the "public interface" or API to a set of data, which may or may not be implemented 
  with a physical netCDF file. </FONT></P>
<P><FONT color=#0000ff>The element <I><strong>netcdf</strong></I> is the root tag of the 
    NcML instance document, and is said to define a NetCDF dataset.</FONT></P>
<pre>&lt;!-- XML encoding of Netcdf container object --&gt;
&lt;xsd:element name=&quot;netcdf&quot;&gt;<br>  &lt;xsd:complexType&gt;<br>    &lt;xsd:sequence&gt;

 <font color="#0000FF">(1)</font>  &lt;xsd:choice minOccurs=&quot;0&quot;&gt;<br>        &lt;xsd:element name=&quot;readMetadata&quot;/&gt;<br>        &lt;xsd:element name=&quot;explicit&quot;/&gt;<br>      &lt;/xsd:choice&gt;
<br> <font color="#0000FF">(2)</font>  &lt;xsd:choice minOccurs=&quot;0&quot; maxOccurs=&quot;unbounded&quot;&gt;<br>        &lt;xsd:element ref=&quot;group&quot;/&gt;
        &lt;xsd:element ref=&quot;dimension&quot;/&gt;<br>        &lt;xsd:element ref=&quot;variable&quot;/&gt;<br>        &lt;xsd:element ref=&quot;attribute&quot;/&gt;<br>        &lt;xsd:element ref=&quot;remove&quot;/&gt;<br>      &lt;/xsd:choice&gt;
<br> <font color="#AA0000">(3)  &lt;xsd:element ref=&quot;aggregation&quot; minOccurs=&quot;0&quot;/&gt;</font><br>    &lt;/xsd:sequence&gt;</pre>
<pre> <font color="#0000FF">(4)</font>&lt;xsd:attribute name=&quot;location&quot; type=&quot;xsd:anyURI&quot;/&gt;
 <font color="#0000FF">(5)</font>&lt;xsd:attribute name=&quot;id&quot; type=&quot;xsd:string&quot;/&gt;
 <font color="#0000FF">(6)</font>&lt;xsd:attribute name=&quot;title&quot; type=&quot;xsd:string&quot;/&gt;
 <font color="#0000FF">(7)</font>&lt;xsd:attribute name=&quot;enhance&quot; type=&quot;xsd:boolean&quot;/&gt;
 <font color="#0000FF">(8)</font>&lt;xsd:attribute name=&quot;addRecords&quot; type=&quot;xsd:boolean&quot;/&gt;</pre>
<pre>    <font color="#AA0000">&lt;!-- for aggregations --&gt;
 (9)&lt;xsd:attribute name=&quot;ncoords&quot; type=&quot;xsd:string&quot;/&gt;
(10)&lt;xsd:attribute name=&quot;coordValue&quot; type=&quot;xsd:string&quot;/&gt;</font>
<font color="#AA0000">(11)&lt;xsd:attribute name=&quot;fmrcDefinition&quot; type=&quot;xsd:string&quot;/&gt;</font>
  &lt;/xsd:complexType&gt;
&lt;/xsd:element&gt;
</pre>
<OL>
  <LI><font color="#0000FF">A </font><font color="#0000FF"><em><strong>readMetadata</strong></em> (default) or an <em><strong>explicit</strong></em> element comes first. The <em><strong>readMetadata</strong></em> element indicates that all the metadata from the referenced dataset will be read in. The <em><strong>explicit</strong></em> element indicates that only the metadata explictly declared in the NcML file will be used. </font>   
  <LI><FONT color=#0000ff>The <I><strong>netcdf</strong></I> element may contain any number 
  (including 0) of elements <I><strong>group, variable</strong></I>, <I><strong>dimension</strong></I>, <I>or<strong> attribute</strong></I>  that can appear in any order.</FONT> <font color="#0000FF">If you use readMetadata, you can remove specific elements with the <em><strong>remove</strong></em> element. </font> 
  <LI><font color="#990000">An aggregation element is used logically join multiple netcdf datasets into a single dataset.</font>
  <LI><FONT color=#0000ff>The optional <I><strong>location</strong></I> attribute provides a reference to another netCDF dataset, called the <em><strong>referenced dataset</strong></em>. The location can be an absolute URL (eg <strong>http://server/myfile</strong>, or <strong>file:/usr/local/data/mine.nc</strong>) or a URL reletive to the NcML location (eg <strong>subdir/mydata.nc</strong>). The referenced dataset contains the variable data that is not explicitly specified in the NcML document itself. If the location is missing and the data is not defined in <strong>values</strong> elements, then an empty file is written similar to the way CDL files are written by ncgen. </FONT>  
  <LI><FONT color=#0000ff>The optional <I><strong>id</strong></I> attribute is meant to provide a 
  way to uniquely identify (relative to the application context) the NetCDF dataset.  It is important to understand that the <I>id</I> attribute refers to 
  the NetCDF dataset defined by the XML instance document, NOT the </FONT><font color="#0000FF">referenced dataset </font><FONT color=#0000ff>if there is  one. </FONT>
  <LI><FONT color=#0000ff>The optional <I><strong>title</strong></I> attribute provides a way to add a human readable title to the netCDF dataset. </FONT>
  <LI><font color="#0000ff">The optional <em><strong>enhance</strong></em> attribute indicates whether the </font><font color="#0000FF">referenced dataset </font><font color="#0000ff"> is opened in enhanced mode or not (default not). </font>  
  <LI><font color="#0000ff">The optional <em><strong>addRecords</strong></em> attribute is used only when the referenced datasets is a netCDF-3 file. If true (default false) then a structure variable containing the record variables is added. </font>
  <LI><font color="#990000">The optional <strong><em>ncoords</em></strong> attribute is used for <strong>joinExisting</strong> aggregation datasets to indicate the number of coordinates that come from the dataset.</font>  
  <LI><font color="#990000"> The <strong><em>coordValue</em></strong> attribute is used for aggregation datasets to assign a coordinate value(s) to the dataset. If there are multiple coordinates for a single file, blanks and/or commas are used to delineate them, so you cannot use those characters in your coordinate values. </font>  
  <LI><font color="#990000">The </font><font color="#AA0000"><strong><em>fmrcDefinition</em></strong></font><font color="#CC0000"> attribute is used  </font><font color="#990000">for aggregation datasets to pass in an <strong>fmrcDefinition</strong> file to the Grib IOSP layer. </font>
</OL>
<h3><B>group Element</B></h3>
<p> <FONT color=#0000ff>A <I><strong>group</strong></I> element represents a netCDF group, a container for <I><strong>variable</strong></I>, <I><strong>dimension</strong></I>, <I><strong>attribute</strong></I>, or other <I><strong>group </strong></I>elements. </FONT></p>
<pre>  &lt;xsd:element name=&quot;group&quot;&gt;<br>    &lt;xsd:complexType&gt;<br><font color="#0000FF">(1)</font>   &lt;xsd:choice minOccurs=&quot;0&quot; maxOccurs=&quot;unbounded&quot;&gt;<br>        &lt;xsd:element ref=&quot;dimension&quot;/&gt;<br>        &lt;xsd:element ref=&quot;variable&quot;/&gt;<br>        &lt;xsd:element ref=&quot;attribute&quot;/&gt;<br>        &lt;xsd:element ref=&quot;group&quot;/&gt;<br>        &lt;xsd:element ref=&quot;remove&quot;/&gt;<br>      &lt;/xsd:choice&gt;<br><font color="#0000FF">(2)</font>   &lt;xsd:attribute name=&quot;name&quot; type=&quot;xsd:string&quot; use=&quot;required&quot;/&gt;<br><font color="#0000FF">(3)</font>   &lt;xsd:attribute name=&quot;orgName&quot; type=&quot;xsd:string&quot;/&gt;<br>    &lt;/xsd:complexType&gt;<br>  &lt;/xsd:element&gt;
</pre>
<OL>
  <LI><FONT color=#0000ff>The <I><strong>group</strong></I> element may contain any number (including 0) of elements <I><strong>group, variable</strong></I>, <I><strong>dimension</strong></I>, <I>or<strong> attribute</strong></I> that can appear in any order.</FONT> <font color="#0000FF">You can also mix in <em><strong>remove</strong></em> elements to remove  elements.</font>
  <LI><FONT color=#0000ff>The mandatory <I><strong>name</strong></I> attribute must be unique among groups within its containing <em><strong>group</strong></em> or <strong><em>netcdf</em></strong> element. </FONT>  
  <LI><FONT color=#0000ff>The optional attribute <em><strong>orgName</strong></em> is used when renaming a group.</FONT></LI>
</OL>
<h3><B>dimension Element</B></h3>
<p>  <FONT color=#0000ff>The <I><strong>dimension</strong></I> element represents a netCDF dimension, i.e. a named index of 
  specified length.</FONT></p>
<pre>  &lt;!-- XML encoding of Dimension object --&gt;
  &lt;xsd:element name=&quot;dimension&quot;&gt;<br>    &lt;xsd:complexType&gt;<br><font color="#0000FF">(1)</font>   &lt;xsd:attribute name=&quot;name&quot; type=&quot;xsd:token&quot; use=&quot;required&quot;/&gt;<br><font color="#0000FF">(2)</font>   &lt;xsd:attribute name=&quot;length&quot; type=&quot;xsd:nonNegativeInteger&quot;/&gt;<br><font color="#0000FF">(3)</font>   &lt;xsd:attribute name=&quot;isUnlimited&quot; type=&quot;xsd:boolean&quot; default=&quot;false&quot;/&gt;<br><font color="#0000FF">(4)</font>   &lt;xsd:attribute name=&quot;isVariableLength&quot; type=&quot;xsd:boolean&quot; default=&quot;false&quot;/&gt;<br><font color="#0000FF">(5)</font>   &lt;xsd:attribute name=&quot;isShared&quot; type=&quot;xsd:boolean&quot; default=&quot;true&quot;/&gt;<br><font color="#0000FF">(6)</font>   &lt;xsd:attribute name=&quot;orgName&quot; type=&quot;xsd:string&quot;/&gt;<br>    &lt;/xsd:complexType&gt;<br>  &lt;/xsd:element&gt;</pre>

<OL>
  <LI><FONT color=#0000ff>The mandatory <I><strong>name</strong></I> attribute must be unique among dimensions within its containing <em><strong>group</strong></em> or <strong><em>netcdf</em></strong> element. </FONT>   
  <LI><FONT color=#0000ff>The mandatory attribute <I><strong>length</strong> </I>expresses the 
  cardinality (number of points) associated with the dimension. Its value can be 
  any non negative integer including 0 (since the unlimited dimension in a 
  netCDF file may have length 0, corresponding to 0 records).</FONT> 
  <LI><FONT color=#0000ff>The attribute <I><strong>isUnlimited</strong> </I>is <em>true</em> only if the dimension can grow (a.k.a the record dimension in NetCDF-3 files), and <em>false</em> when the length is fixed at file creation. </FONT></LI>
  <LI><FONT color=#0000ff>The attribute <em><strong>isVariableLength</strong></em> is used for <em>variable length</em> data types, where the length is not part of the metadata..</FONT></LI>
  <LI><FONT color=#0000ff>The attribute <em><strong>isShared</strong></em> is <em>true</em> for shared dimensions, and <em>false</em> when the dimension is private to the variable.</FONT></LI>
  <LI><FONT color=#0000ff>The optional attribute <em><strong>orgName</strong></em> is used when renaming a dimension. </FONT></LI>
</OL>
<h3><B>variable Element </B></h3>
<P>  <FONT color=#0000ff>A <em><strong>variable</strong></em>  element represents a netCDF variable, i.e. a scalar or multidimensional array of 
  specified type indexed by 0 or more dimensions.</FONT></P>
<pre>  &lt;xsd:element name=&quot;variable&quot;&gt;<br>    &lt;xsd:complexType&gt;<br>      &lt;xsd:sequence&gt;<br><font color="#0000FF">(1)</font>     &lt;xsd:element ref=&quot;attribute&quot; minOccurs=&quot;0&quot; maxOccurs=&quot;unbounded&quot;/&gt;<br><font color="#0000FF">(2)</font>     &lt;xsd:element ref=&quot;values&quot; minOccurs=&quot;0&quot;/&gt;<br><font color="#0000FF">(3)</font>     &lt;xsd:element ref=&quot;variable&quot; minOccurs=&quot;0&quot; maxOccurs=&quot;unbounded&quot;/&gt;<br><font color="#0000FF">(4)</font>     &lt;xsd:element ref=&quot;logicalView&quot; minOccurs=&quot;0&quot; /&gt;<br><font color="#0000FF">(5)</font>     &lt;xsd:element ref=&quot;remove&quot; minOccurs=&quot;0&quot; maxOccurs=&quot;unbounded&quot; /&gt;<br>      &lt;/xsd:sequence&gt;
<br><font color="#0000FF">(6)</font>   &lt;xsd:attribute name=&quot;name&quot; type=&quot;xsd:token&quot; use=&quot;required&quot; /&gt;<br><font color="#0000FF">(7)</font>   &lt;xsd:attribute name=&quot;type&quot; type=&quot;DataType&quot; use=&quot;required&quot; /&gt;<br><font color="#0000FF">(8)</font>   &lt;xsd:attribute name=&quot;shape&quot; type=&quot;xsd:token&quot; /&gt;<br><font color="#0000FF">(9)</font>   &lt;xsd:attribute name=&quot;orgName&quot; type=&quot;xsd:string&quot;/&gt;<br>    &lt;/xsd:complexType&gt;<br>  &lt;/xsd:element&gt;</pre>
<OL>
  <LI><FONT color=#0000ff>A <I><strong>variable</strong></I> element may contain 0 or more <I><strong>attribute</strong></I> elements,</FONT>
  <LI><FONT color=#ff0000><FONT color=#0000ff>The optional<I> <strong>values</strong></I> element is used 
  to  specify the data values of the  variable. The values must be listed compatibly with the size and shape of the variable <FONT color=#ff0000><FONT color=#0000ff><FONT color=#ff0000><FONT color=#0000ff>(slowest varying dimension first)</FONT></FONT></FONT></FONT>.</FONT></FONT> <font color="#0000FF">If not specified, the data values are taken from the variable of the same name in the referenced dataset. </font>
  <LI><font color="#0000FF">A variable of data type <em><strong>structure</strong></em> may have nested variable elements within it. </font>
  <LI><font color="#0000FF">NOT IMPLEMENTED YET </font>
  <LI><font color="#0000FF">You can remove attributes from the underlying variable. </font>      
  <LI><FONT color=#0000ff>The mandatory <I><strong>name</strong></I> attribute must be unique among variables within its containing <em><strong>group, variable, </strong>or </em><strong><em>netcdf</em></strong> element.</FONT>
  <LI><FONT color=#0000ff>The mandatory <I><strong>type</strong></I> attribute is one of the enumerated <a href="#DataType">DataTypes</a>.</FONT>
  <LI><FONT color=#0000ff>The <em><strong>shape</strong></em> attribute   lists the names of the dimensions the variable depends on. For a scalar variable, the list will be empty. The 
  dimension names must be ordered with the <FONT color=#ff0000><FONT color=#0000ff><FONT color=#ff0000><FONT color=#0000ff>slowest varying dimension first</FONT></FONT></FONT></FONT>  (same as in the CDL description). 
  For backwards compatibility, scalar variables may omit this attribute, although this is deprecated.</FONT>
  <LI><FONT color=#0000ff>The optional attribute <em><strong>orgName</strong></em> is used when renaming a variable. .</FONT>  
</OL>
<h3><B>values Element </B></h3>
<P> <FONT color=#0000ff>A <em><strong>values</strong></em> element specifies the data values of a variable,<FONT color=#ff0000> <FONT color=#0000ff>either by listing them for example: 
        </FONT></FONT></FONT><strong>&lt;values&gt;-109.0 -107.0 -115.0 93.923230&lt;/values&gt;</strong><FONT color=#0000ff><FONT color=#ff0000><FONT color=#0000ff> or by specifying a start and increment, for example: </FONT></FONT></FONT><strong>&lt;values start=&quot;-109.5&quot; increment=&quot;2.0&quot; /&gt;</strong><FONT color=#0000ff><FONT color=#ff0000><FONT color=#0000ff><FONT color=#ff0000><FONT color=#0000ff>. For a multi-dimensional variable, the values must be listed compatibly with the size and shape of the variable (slowest varying dimension first).</FONT> </FONT></FONT></FONT></FONT></P>
<pre>  &lt;xsd:element name=&quot;values&quot;&gt;<br>    &lt;xsd:complexType mixed=&quot;true&quot;&gt;<br> <font color="#0000FF">(1)</font>  &lt;xsd:attribute name=&quot;start&quot; type=&quot;xsd:float&quot;/&gt;<br>      &lt;xsd:attribute name=&quot;increment&quot; type=&quot;xsd:float&quot;/&gt;<br>      &lt;xsd:attribute name=&quot;npts&quot; type=&quot;xsd:int&quot;/&gt;<br> <font color="#0000FF">(2)</font>  &lt;xsd:attribute name=&quot;separator&quot; type=&quot;xsd:string&quot; /&gt;<br>    &lt;/xsd:complexType&gt;<br>  &lt;/xsd:element&gt;</pre>
<OL>
  <LI><FONT color=#0000ff>The values can be specified with a <em><strong>start</strong></em> and <em><strong>increment</strong></em> attributes, if they are numeric  and  evenly spaced. You can enter these as  integers or floating point numbers, and they will be converted to the data type of the variable. The number of points will be taken from the shape of the variable. (For backwards compatibility, an <em><strong>npts</strong></em> attribute is allowed, although this is deprecated and ignored).</FONT>
  <LI><FONT color=#ff0000><FONT color=#0000ff>By default, the list of values are separated by whitespace but  a different token can be specified using the <em><strong>separator</strong></em> attribute. This is useful if you are entering String values, e.g. <FONT color=#ff0000><FONT color=#0000ff>&lt;values separator=&quot;*&quot;&gt;My dog*has*fleas&lt;/values&gt; defines three Strings. </FONT></FONT></FONT></FONT></LI>
</OL>
<h3><B>attribute Element </B></h3>
<P>  <FONT color=#0000ff>The 
  <I><strong>attribute</strong></I> elements represents a netCDF attribute, i.e. a name-value pair of 
  specified type. Its value may be specified in the <em><strong>values</strong></em> attribute  e.g. </FONT><strong>&lt;attribute name=&quot;Conventions&quot; value=&quot;COARDS&quot;/&gt;</strong><FONT color=#0000ff>, or in the element content, , e.g. </FONT><strong>&lt;attribute name=&quot;valid_range&quot; type=&quot;float&quot;&gt;-99.0 110&lt;/attribute&gt;</strong><FONT color=#0000ff><FONT color=#ff0000><FONT color=#0000ff><strong>. </strong>It is recommended to use the second form when there are multiple values, but this is only a matter of style. </FONT></FONT></FONT></P>
<pre>  &lt;xsd:element name=&quot;attribute&quot;&gt;<br>    &lt;xsd:complexType mixed=&quot;true&quot;&gt;<br><font color="#0000FF">(1)</font>   &lt;xsd:attribute name=&quot;name&quot; type=&quot;xsd:token&quot; use=&quot;required&quot;/&gt;<br><font color="#0000FF">(2)</font>   &lt;xsd:attribute name=&quot;type&quot; type=&quot;DataType&quot; default=&quot;String&quot;/&gt;<br><font color="#0000FF">(3)</font>   &lt;xsd:attribute name=&quot;value&quot; type=&quot;xsd:string&quot; /&gt;<br><font color="#0000FF">(4)</font>   &lt;xsd:attribute name=&quot;separator&quot; type=&quot;xsd:string&quot; /&gt;<br><font color="#0000FF">(5)</font>   &lt;xsd:attribute name=&quot;orgName&quot; type=&quot;xsd:string&quot;/&gt;<br>    &lt;/xsd:complexType&gt;<br>  &lt;/xsd:element&gt;</pre>
<OL>
  <LI><FONT color=#0000ff>The mandatory <I><strong>name</strong></I> attribute must be unique among attributes within its containing <em><strong>group, variable, </strong></em>or <strong><em>netcdf</em></strong> element.</FONT>
  <LI><FONT color=#0000ff>The <I><strong>type</strong></I> attribute is one of the enumerated <a href="#DataType">DataTypes</a>.</FONT>
    <font color="#0000FF">It defaults to a String type. </font>
  <LI><FONT color=#0000ff>The <I>value </I>attribute contains the actual data of 
  the <I>attribute</I> element. In the most common case of single-valued 
  attributes, a single number or string will be listed (as in value="3.0"), 
  while in the less frequent case of multi-valued attributes, all the numbers 
  will be listed and separated by a blank or optionally some other character (as 
  in value="3.0 4.0 5.0"). Values can also be specified in the elemnt content.</FONT>   
  <LI><FONT color=#ff0000><FONT color=#0000ff>By default, if the attribute has type String, the entire value is taken as the attribute value, and if it has type other than String, then the list of values are separated by whitespace. A different token seperator can be  specified using the <em><strong>separator</strong></em> attribute</FONT></FONT></LI>
  <LI><FONT color=#0000ff>The optional attribute <em><strong>orgName</strong></em> is used when renaming an attribute. .</FONT> </LI>
</OL>
<h3><B>DataType<a name="DataType"></a> Element </B></h3>
<P>  <FONT color=#ff0000><FONT 
color=#0000ff>The DataType element is an enumerated list of the  
  data types allowed for NcML <I>Variable</I> and <I>Attribute</I> objects. </FONT></FONT></P>
<pre>  &lt;xsd:simpleType name=&quot;DataType&quot;&gt;<br>    &lt;xsd:restriction base=&quot;xsd:token&quot;&gt;<br>      &lt;xsd:enumeration value=&quot;char&quot;/&gt;<br>      &lt;xsd:enumeration value=&quot;byte&quot;/&gt;<br>      &lt;xsd:enumeration value=&quot;short&quot;/&gt;<br>      &lt;xsd:enumeration value=&quot;int&quot;/&gt;<br>      &lt;xsd:enumeration value=&quot;long&quot;/&gt;<br>      &lt;xsd:enumeration value=&quot;float&quot;/&gt;<br>      &lt;xsd:enumeration value=&quot;double&quot;/&gt;<br>      &lt;xsd:enumeration value=&quot;String&quot;/&gt;<br>      &lt;xsd:enumeration value=&quot;string&quot;/&gt;<br>      &lt;xsd:enumeration value=&quot;Structure&quot;/&gt;<br>    &lt;/xsd:restriction&gt;<br>  &lt;/xsd:simpleType&gt;</pre>
<ol>
  <li><font color="#0000FF">Enumeration, Opaque not yet implemented.</font></li>
  <li><font color="#0000FF">Unsigned types not yet implemented. </font></li>
</ol>
<hr>
<h3><B>remove Element </B></h3>
<P> <FONT color=#ff0000><FONT 
color=#0000ff>The remove element is used to remove  </FONT><font color="#0000FF">attribute, dimension, variable or group</font> <FONT 
color=#0000ff>objects that are in the referenced dataset. Place the remove element in the container of the object to be removed. </FONT></FONT></P>
<pre>  &lt;xsd:element name=&quot;remove&quot;&gt;<br>    &lt;xsd:complexType&gt;<br><font color="#0000FF">(1)</font>   &lt;xsd:attribute name=&quot;name&quot; type=&quot;xsd:string&quot; use=&quot;required&quot;/&gt;
<font color="#0000FF">(2)</font>   &lt;xsd:attribute name=&quot;type&quot; type=&quot;ObjectType&quot; use=&quot;required&quot;/&gt;<br>    &lt;/xsd:complexType&gt;<br>  &lt;/xsd:element&gt;</pre>
<pre> &lt;xsd:simpleType name=&quot;ObjectType&quot;&gt;
   &lt;xsd:restriction base=&quot;xsd:string&quot;&gt;
     &lt;xsd:enumeration value=&quot;attribute&quot;/&gt;
     &lt;xsd:enumeration value=&quot;dimension&quot;/&gt;
     &lt;xsd:enumeration value=&quot;variable&quot;/&gt;
     &lt;xsd:enumeration value=&quot;group&quot;/&gt;
   &lt;/xsd:restriction&gt;
 &lt;/xsd:simpleType&gt;</pre>
<ol>
  <li><font color="#0000FF">The name of the object to remove </font></li>
  <li><font color="#0000FF">The type of the object to remove: attribute, dimension, variable or group. </font><br>
  </li>
</ol>
<h3>aggregation Element</h3>
<p><font color="#990000">The aggregation element allows multiple datasets to be combined into a single logical dataset. There can only be one aggregation element in a netcdf element. </font></p>
<pre>
&lt;xsd:element name=&quot;aggregation&quot;&gt;<br>   &lt;xsd:complexType&gt;<br>    &lt;xsd:sequence&gt;

<strong>(1)</strong>  &lt;xsd:element name=&quot;variableAgg&quot; minOccurs=&quot;0&quot; maxOccurs=&quot;unbounded&quot;&gt;
      &lt;xsd:complexType&gt;
       &lt;xsd:attribute name=&quot;name&quot; type=&quot;xsd:string&quot; use=&quot;required&quot;/&gt;
      &lt;/xsd:complexType&gt;
     &lt;/xsd:element&gt;</pre>
<pre><strong>(2)</strong>  &lt;xsd:element ref=&quot;netcdf&quot; minOccurs=&quot;0&quot; maxOccurs=&quot;unbounded&quot;/&gt;</pre>
<pre><strong>(3)</strong>  &lt;xsd:element name=&quot;scan&quot; minOccurs=&quot;0&quot; maxOccurs=&quot;unbounded&quot;&gt;
      &lt;xsd:complexType&gt;
<strong>(4)</strong>    &lt;xsd:attribute name=&quot;location&quot; type=&quot;xsd:string&quot; use=&quot;required&quot;/&gt;
<strong>(5)</strong>    &lt;xsd:attribute name=&quot;suffix&quot; type=&quot;xsd:string&quot; /&gt;
<strong>(6)</strong>    &lt;xsd:attribute name=&quot;regExp&quot; type=&quot;xsd:string&quot; /&gt;
<strong>(7)</strong>    &lt;xsd:attribute name=&quot;subdirs&quot; type=&quot;xsd:boolean&quot; default=&quot;true&quot;/&gt;
<strong>(8)</strong>    &lt;xsd:attribute name=&quot;olderThan&quot; type=&quot;xsd:string&quot; /&gt;

<strong>(9)</strong>    &lt;xsd:attribute name=&quot;dateFormatMark&quot; type=&quot;xsd:string&quot; /&gt;
<strong>(10)</strong>   &lt;xsd:attribute name=&quot;enhance&quot; type=&quot;xsd:boolean&quot;/&gt;
<br>      &lt;/xsd:complexType&gt;
     &lt;/xsd:element&gt;

<strong>(11)</strong> &lt;xsd:element name=&quot;scanFmrc&quot; minOccurs=&quot;0&quot; maxOccurs=&quot;unbounded&quot;&gt;
      &lt;xsd:complexType&gt;
<strong>(4)</strong>    &lt;xsd:attribute name=&quot;location&quot; type=&quot;xsd:string&quot; use=&quot;required&quot;/&gt;
<strong>(5)</strong>    &lt;xsd:attribute name=&quot;suffix&quot; type=&quot;xsd:string&quot; /&gt;
<strong>(6)</strong>    &lt;xsd:attribute name=&quot;regExp&quot; type=&quot;xsd:string&quot; /&gt;
<strong>(7)</strong>    &lt;xsd:attribute name=&quot;subdirs&quot; type=&quot;xsd:boolean&quot; default=&quot;true&quot;/&gt;
<strong>(8)</strong>    &lt;xsd:attribute name=&quot;olderThan&quot; type=&quot;xsd:string&quot; /&gt;

<strong>(12)</strong>   &lt;xsd:attribute name=&quot;runDateMatcher&quot; type=&quot;xsd:string&quot; /&gt;
<strong>    </strong>   &lt;xsd:attribute name=&quot;forecastDateMatcher&quot; type=&quot;xsd:string&quot; /&gt;
<strong>    </strong>   &lt;xsd:attribute name=&quot;forecastOffsetMatcher&quot; type=&quot;xsd:string&quot; /&gt;
<br>      &lt;/xsd:complexType&gt;
     &lt;/xsd:element&gt;</pre>
<pre>    &lt;/xsd:sequence&gt;</pre>
<pre><strong>(13)</strong> &lt;xsd:attribute name=&quot;type&quot; type=&quot;AggregationType&quot; use=&quot;required&quot;/&gt;
<strong>(14)</strong> &lt;xsd:attribute name=&quot;dimName&quot; type=&quot;xsd:token&quot; /&gt;
<strong>(15)</strong> &lt;xsd:attribute name=&quot;recheckEvery&quot; type=&quot;xsd:string&quot; /&gt;

  &lt;/xsd:complexType&gt;
&lt;/xsd:element&gt;
</pre>
<ol>
  <li><font color="#990000">For <em><strong>joinNew</strong></em> aggregation types, the  variables that will be aggregated must be explicitly listed in a <em><strong>variableAgg</strong></em> element.</font></li>
  <li><font color="#990000">The nested netcdf datasets can be explicitly listed.</font></li>
  <li><font color="#990000">Or they can be implictly specified by naming a directory in a scan element.</font></li>
  <li><font color="#990000">The directory pathname. </font></li>
  <li><font color="#990000">If you specify a <strong>suffix</strong>, only files with that ending will be included.</font></li>
  <li><font color="#990000">If you specify a <strong>regExp</strong>, only files with whose full pathnames match the <a href="http://www.regular-expressions.info/">regular expression</a>  will be included.</font></li>
  <li><font color="#990000">You can optionally specify if the scan should descend into subdirectories (default true).</font></li>
  <li><font color="#990000">If present, only files whose last modified date is older than this amount of time from the present will be included. This is a way to exclude files that are still being written. This must be a <a href="http://www.unidata.ucar.edu/software/udunits/">udunit</a> time such as &quot;5 min&quot; or &quot;1 hour&quot;. </font></li>
  <li><font color="#990000">A <em><strong>dateFormatMark</strong></em>  is used on <strong>joinNew</strong> types to create date coordinate values out of the filename. It consists of a section of text, a '#' marking character, then a java.text.<a href="#SimpleDateFormat">SimpleDateFormat</a> string. The number of characters before the # is skipped in the filename, then the next part of the filename must match the SimpleDataFormat string. You can ignore trailing text. For example:
    <pre>
        Filename: SUPER-NATIONAL_1km_SFC-T_20051206_2300.gini 
DateFormatMark: SUPER-NATIONAL_1km_SFC-T_#yyyyMMdd_HHmm
</pre> 
  </font></li>
  <li><font color="#990000"> You can optionally specify that the files should be opened in enhanced mode (default false)</font></li>
  <li><font color="#990000">A specialized scanFmrc element can be used for a <em><strong><a href="FmrcAggregation.html#forecastModelRunSingleCollection">forecastModelRunSingleCollection</a> </strong></em>aggregation, where forecast model run data is stored in multiple files, with one forecast time per file.</font></li>
  <li><font color="#990000"> For scanFmrc, the run date and the forecast date is extracting from the file pathname using a <strong>runDateMatcher </strong>and either a <strong>forecastDateMatcher </strong>or a<strong> forecastOffsetMatcher </strong>attribute<strong>. </strong>All of these require matching a specific string in the file's pathname and then matching a date or hour offset immediately before or after the match. The match is specified by placing it between '#' marking characters. The <strong>runDateMatcher </strong>and <strong>forecastDateMatcher </strong>has a java.text.<a href="#SimpleDateFormat">SimpleDateFormat</a> string before or after the match, while a <strong>forecastOffsetMatcher</strong> counts the number of 'H' characters, and extracts an hour offset from the run date. For example: </font>
    <pre><font color="#990000">     
             Filename:  gfs_3_20060706_0300_006.grb 
       runDateMatcher: #gfs_3_#yyyyMMdd_HH
forecastOffsetMatcher:                     HHH#.grb#</font></pre>
  
    <p><font color="#990000">will extract the run date 2006-07-06T03:00:00Z, and the forecast offset &quot;6 hours&quot;.</font><font color="#990000">
  </font></p>
</li>
  <li><font color="#990000">You must specify an aggregation type.</font></li>
  <li><font color="#990000">For all types except <em><strong>joinUnion</strong></em>, you must specify the dimension name to join. </font></li>
  <li><font color="#990000">When you are using scan elements on a set of files that may change, and you are using caching, set <strong>recheckEvery</strong> to a valid <a href="http://www.unidata.ucar.edu/software/udunits/">udunit</a> time value, like &quot;10 min&quot;, &quot;1 hour&quot;, &quot;30 days&quot;, etc. Whenever the dataset is reacquired from the cache, the directories will be rescanned if <strong>recheckEvery</strong> amount of time has elapsed since the last time it was scanned. If you do not specify a recheckEvery attribute, the collection will be assumed to be non-changing. <br>
  </font></li>
</ol>
<pre> &lt;!-- type of aggregation --&gt;
 &lt;xsd:simpleType name=&quot;AggregationType&quot;&gt;
  &lt;xsd:restriction base=&quot;xsd:string&quot;&gt;
   &lt;xsd:enumeration value=&quot;forecastModelRunCollection&quot;/&gt;<br>   &lt;xsd:enumeration value=&quot;forecastModelRunSingleCollection&quot;/&gt;
   &lt;xsd:enumeration value=&quot;joinExisting&quot;/&gt;
   &lt;xsd:enumeration value=&quot;joinNew&quot;/&gt;
   &lt;xsd:enumeration value=&quot;union&quot;/&gt;
  &lt;/xsd:restriction&gt;
 &lt;/xsd:simpleType&gt;</pre>
<p> <font color="#990000">The allowable aggregation types.</font></p>
<h2>Notes</h2>
<ul>
  <li><font color="#0000FF">  Any attributes of type xsd:token, have trailing and ending spaces    
      ignored, and all other spaces or new lines are collapsed to one single   
      space. </font></li>
  <li><FONT color=#0000ff>If any attribute or content has the  characters "&gt;", "&lt;", """, or "&amp;", they must be encoded using standard XML escape sequences &amp;gt;, &amp;lt;, &amp;quot;, &amp;amp; respectively.</FONT></li>
</ul>
<p>&nbsp;</p>
<h2>The java.text.SimpleDateFormat<a name="SimpleDateFormat" id="SimpleDateFormat"></a> </h2>
<p> The following is taken from the javadoc, see <a href="http://java.sun.com/j2se/1.4.2/docs/api/index.html">here</a> for full info. The following pattern letters are defined (all other characters from <code>'A'</code> to <code>'Z'</code> and from <code>'a'</code> to <code>'z'</code> are reserved): </p>
<blockquote>
  <table summary="Chart shows pattern letters, date/time component, presentation, and examples." border="0" cellpadding="0" cellspacing="3">
    <tbody>
      <tr bgcolor="#ccccff">
        <th align="left">Letter </th>
        <th align="left">Date or Time Component </th>
        <th align="left">Presentation </th>
        <th align="left">Examples </th>
      </tr>
      <tr>
        <td><code>G</code> </td>
        <td>Era designator </td>
        <td><a href="file:///C:/j2sdk1.4.2/docs/api/java/text/SimpleDateFormat.html#text">Text</a> </td>
        <td><code>AD</code> </td>
      </tr>
      <tr bgcolor="#eeeeff">
        <td><code>y</code> </td>
        <td>Year </td>
        <td><a href="file:///C:/j2sdk1.4.2/docs/api/java/text/SimpleDateFormat.html#year">Year</a> </td>
        <td><code>1996</code>; <code>96</code> </td>
      </tr>
      <tr>
        <td><code>M</code> </td>
        <td>Month in year </td>
        <td><a href="file:///C:/j2sdk1.4.2/docs/api/java/text/SimpleDateFormat.html#month">Month</a> </td>
        <td><code>July</code>; <code>Jul</code>; <code>07</code> </td>
      </tr>
      <tr bgcolor="#eeeeff">
        <td><code>w</code> </td>
        <td>Week in year </td>
        <td><a href="file:///C:/j2sdk1.4.2/docs/api/java/text/SimpleDateFormat.html#number">Number</a> </td>
        <td><code>27</code> </td>
      </tr>
      <tr>
        <td><code>W</code> </td>
        <td>Week in month </td>
        <td><a href="file:///C:/j2sdk1.4.2/docs/api/java/text/SimpleDateFormat.html#number">Number</a> </td>
        <td><code>2</code> </td>
      </tr>
      <tr bgcolor="#eeeeff">
        <td><code>D</code> </td>
        <td>Day in year </td>
        <td><a href="file:///C:/j2sdk1.4.2/docs/api/java/text/SimpleDateFormat.html#number">Number</a> </td>
        <td><code>189</code> </td>
      </tr>
      <tr>
        <td><code>d</code> </td>
        <td>Day in month </td>
        <td><a href="file:///C:/j2sdk1.4.2/docs/api/java/text/SimpleDateFormat.html#number">Number</a> </td>
        <td><code>10</code> </td>
      </tr>
      <tr bgcolor="#eeeeff">
        <td><code>F</code> </td>
        <td>Day of week in month </td>
        <td><a href="file:///C:/j2sdk1.4.2/docs/api/java/text/SimpleDateFormat.html#number">Number</a> </td>
        <td><code>2</code> </td>
      </tr>
      <tr>
        <td><code>E</code> </td>
        <td>Day in week </td>
        <td><a href="file:///C:/j2sdk1.4.2/docs/api/java/text/SimpleDateFormat.html#text">Text</a> </td>
        <td><code>Tuesday</code>; <code>Tue</code> </td>
      </tr>
      <tr bgcolor="#eeeeff">
        <td><code>a</code> </td>
        <td>Am/pm marker </td>
        <td><a href="file:///C:/j2sdk1.4.2/docs/api/java/text/SimpleDateFormat.html#text">Text</a> </td>
        <td><code>PM</code> </td>
      </tr>
      <tr>
        <td><code>H</code> </td>
        <td>Hour in day (0-23) </td>
        <td><a href="file:///C:/j2sdk1.4.2/docs/api/java/text/SimpleDateFormat.html#number">Number</a> </td>
        <td><code>0</code> </td>
      </tr>
      <tr bgcolor="#eeeeff">
        <td><code>k</code> </td>
        <td>Hour in day (1-24) </td>
        <td><a href="file:///C:/j2sdk1.4.2/docs/api/java/text/SimpleDateFormat.html#number">Number</a> </td>
        <td><code>24</code> </td>
      </tr>
      <tr>
        <td><code>K</code> </td>
        <td>Hour in am/pm (0-11) </td>
        <td><a href="file:///C:/j2sdk1.4.2/docs/api/java/text/SimpleDateFormat.html#number">Number</a> </td>
        <td><code>0</code> </td>
      </tr>
      <tr bgcolor="#eeeeff">
        <td><code>h</code> </td>
        <td>Hour in am/pm (1-12) </td>
        <td><a href="file:///C:/j2sdk1.4.2/docs/api/java/text/SimpleDateFormat.html#number">Number</a> </td>
        <td><code>12</code> </td>
      </tr>
      <tr>
        <td><code>m</code> </td>
        <td>Minute in hour </td>
        <td><a href="file:///C:/j2sdk1.4.2/docs/api/java/text/SimpleDateFormat.html#number">Number</a> </td>
        <td><code>30</code> </td>
      </tr>
      <tr bgcolor="#eeeeff">
        <td><code>s</code> </td>
        <td>Second in minute </td>
        <td><a href="file:///C:/j2sdk1.4.2/docs/api/java/text/SimpleDateFormat.html#number">Number</a> </td>
        <td><code>55</code> </td>
      </tr>
      <tr>
        <td><code>S</code> </td>
        <td>Millisecond </td>
        <td><a href="file:///C:/j2sdk1.4.2/docs/api/java/text/SimpleDateFormat.html#number">Number</a> </td>
        <td><code>978</code> </td>
      </tr>
      <tr bgcolor="#eeeeff">
        <td><code>z</code> </td>
        <td>Time zone </td>
        <td><a href="file:///C:/j2sdk1.4.2/docs/api/java/text/SimpleDateFormat.html#timezone">General time zone</a> </td>
        <td><code>Pacific Standard Time</code>; <code>PST</code>; <code>GMT-08:00</code> </td>
      </tr>
      <tr>
        <td><code>Z</code> </td>
        <td>Time zone </td>
        <td><a href="file:///C:/j2sdk1.4.2/docs/api/java/text/SimpleDateFormat.html#rfc822timezone">RFC 822 time zone</a> </td>
        <td><code>-0800</code></td>
      </tr>
    </tbody>
  </table>
  <h4>Examples</h4>
  The following examples show how date and time patterns are interpreted in the U.S. locale. The given date and time are 2001-07-04 12:08:56 local time in the U.S. Pacific Time time zone.
  <blockquote>
    <table summary="Examples of date and time patterns interpreted in the U.S. locale" border="0" cellpadding="0" cellspacing="3">
      <tbody>
        <tr bgcolor="#ccccff">
          <th align="left">Date and Time Pattern </th>
          <th align="left">Result </th>
        </tr>
        <tr>
          <td><code>"yyyy.MM.dd G 'at' HH:mm:ss z"</code> </td>
          <td><code>2001.07.04 AD at 12:08:56 PDT</code> </td>
        </tr>
        <tr bgcolor="#eeeeff">
          <td><code>"EEE, MMM d, ''yy"</code> </td>
          <td><code>Wed, Jul 4, '01</code> </td>
        </tr>
        <tr>
          <td><code>"h:mm a"</code> </td>
          <td><code>12:08 PM</code> </td>
        </tr>
        <tr bgcolor="#eeeeff">
          <td><code>"hh 'o''clock' a, zzzz"</code> </td>
          <td><code>12 o'clock PM, Pacific Daylight Time</code> </td>
        </tr>
        <tr>
          <td><code>"K:mm a, z"</code> </td>
          <td><code>0:08 PM, PDT</code> </td>
        </tr>
        <tr bgcolor="#eeeeff">
          <td><code>"yyyyy.MMMMM.dd GGG hh:mm aaa"</code> </td>
          <td><code>02001.July.04 AD 12:08 PM</code> </td>
        </tr>
        <tr>
          <td><code>"EEE, d MMM yyyy HH:mm:ss Z"</code> </td>
          <td><code>Wed, 4 Jul 2001 12:08:56 -0700</code> </td>
        </tr>
        <tr bgcolor="#eeeeff">
          <td><code>"yyMMddHHmmssZ"</code> </td>
          <td><code>010704120856-0700</code></td>
        </tr>
      </tbody>
    </table>
  </blockquote>
</blockquote>
<hr WIDTH="100%">
<address>
<img src="../nc.gif" width="64" height="64"> This document is maintained by <a href="mailto:caron@unidata.ucar.edu">John Caron</a> and was last updated on Nov 08, 2006
</address>
<p>&nbsp;</p>
</BODY>
</HTML>
