<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html xmlns:v="urn:schemas-microsoft-com:vml"
xmlns:o="urn:schemas-microsoft-com:office:office"
xmlns:w="urn:schemas-microsoft-com:office:word"
xmlns:st1="urn:schemas-microsoft-com:office:smarttags"
xmlns="http://www.w3.org/TR/REC-html40">

<head>
<meta http-equiv=Content-Type content="text/html; charset=utf-8">
<meta name=ProgId content=Word.Document>
<meta name=Generator content="Microsoft Word 10">
<meta name=Originator content="Microsoft Word 10">
<link rel=File-List href="productionAdvanced_files/filelist.xml">
<link rel=Edit-Time-Data href="productionAdvanced_files/editdata.mso">
<!--[if !mso]>
<style>
v\:* {behavior:url(#default#VML);}
o\:* {behavior:url(#default#VML);}
w\:* {behavior:url(#default#VML);}
.shape {behavior:url(#default#VML);}
</style>
<![endif]-->
<title>Tomcat Installation</title>
<o:SmartTagType namespaceuri="urn:schemas-microsoft-com:office:smarttags"
 name="time"/>
<!--[if gte mso 9]><xml>
 <o:DocumentProperties>
  <o:Author> </o:Author>
  <o:Template>Normal</o:Template>
  <o:LastAuthor> </o:LastAuthor>
  <o:Revision>9</o:Revision>
  <o:TotalTime>1567</o:TotalTime>
  <o:Created>2007-07-24T14:48:00Z</o:Created>
  <o:LastSaved>2007-07-25T17:30:00Z</o:LastSaved>
  <o:Pages>1</o:Pages>
  <o:Words>3011</o:Words>
  <o:Characters>17168</o:Characters>
  <o:Company>Unidata/UCAR</o:Company>
  <o:Lines>143</o:Lines>
  <o:Paragraphs>40</o:Paragraphs>
  <o:CharactersWithSpaces>20139</o:CharactersWithSpaces>
  <o:Version>10.6735</o:Version>
 </o:DocumentProperties>
</xml><![endif]--><!--[if gte mso 9]><xml>
 <w:WordDocument>
  <w:SpellingState>Clean</w:SpellingState>
  <w:GrammarState>Clean</w:GrammarState>
  <w:DoNotShowRevisions/>
  <w:DoNotPrintRevisions/>
  <w:DoNotShowMarkup/>
  <w:BrowserLevel>MicrosoftInternetExplorer4</w:BrowserLevel>
 </w:WordDocument>
</xml><![endif]--><!--[if !mso]><object
 classid="clsid:38481807-CA0E-42D2-BF39-B33AF135CC4D" id=ieooui></object>
<style>
st1\:*{behavior:url(#ieooui) }
</style>
<![endif]-->
<style>
<!--
 /* Style Definitions */
 p.MsoNormal, li.MsoNormal, div.MsoNormal
	{mso-style-parent:"";
	margin:0in;
	margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	font-size:12.0pt;
	font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";}
h1
	{mso-style-next:Normal;
	margin-top:12.0pt;
	margin-right:0in;
	margin-bottom:3.0pt;
	margin-left:0in;
	mso-pagination:widow-orphan;
	page-break-after:avoid;
	mso-outline-level:1;
	font-size:16.0pt;
	font-family:Arial;
	mso-font-kerning:16.0pt;
	font-weight:bold;}
h2
	{mso-margin-top-alt:auto;
	margin-right:0in;
	mso-margin-bottom-alt:auto;
	margin-left:0in;
	mso-pagination:widow-orphan;
	mso-outline-level:2;
	font-size:18.0pt;
	font-family:"Times New Roman";
	font-weight:bold;}
h3
	{mso-margin-top-alt:auto;
	margin-right:0in;
	mso-margin-bottom-alt:auto;
	margin-left:0in;
	mso-pagination:widow-orphan;
	mso-outline-level:3;
	font-size:13.5pt;
	font-family:"Times New Roman";
	font-weight:bold;}
a:link, span.MsoHyperlink
	{color:blue;
	text-decoration:underline;
	text-underline:single;}
a:visited, span.MsoHyperlinkFollowed
	{color:blue;
	text-decoration:underline;
	text-underline:single;}
p
	{mso-margin-top-alt:auto;
	margin-right:0in;
	mso-margin-bottom-alt:auto;
	margin-left:0in;
	mso-pagination:widow-orphan;
	font-size:12.0pt;
	font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";}
code
	{font-family:"Courier New";
	mso-ascii-font-family:"Courier New";
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:"Courier New";
	mso-bidi-font-family:"Courier New";}
pre
	{margin:0in;
	margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;
	font-size:10.0pt;
	font-family:"Courier New";
	mso-fareast-font-family:"Times New Roman";}
@page Section1
	{size:8.5in 11.0in;
	margin:1.0in 1.25in 1.0in 1.25in;
	mso-header-margin:.5in;
	mso-footer-margin:.5in;
	mso-paper-source:0;}
div.Section1
	{page:Section1;}
 /* List Definitions */
 @list l0
	{mso-list-id:135489977;
	mso-list-template-ids:1435024326;}
@list l0:level1
	{mso-level-number-format:bullet;
	mso-level-text:   ;
	mso-level-tab-stop:.5in;
	mso-level-number-position:left;
	text-indent:-.25in;
	mso-ansi-font-size:10.0pt;
	font-family:Symbol;}
@list l0:level2
	{mso-level-tab-stop:1.0in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l0:level3
	{mso-level-tab-stop:1.5in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l0:level4
	{mso-level-tab-stop:2.0in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l0:level5
	{mso-level-tab-stop:2.5in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l0:level6
	{mso-level-tab-stop:3.0in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l0:level7
	{mso-level-tab-stop:3.5in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l0:level8
	{mso-level-tab-stop:4.0in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l0:level9
	{mso-level-tab-stop:4.5in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l1
	{mso-list-id:197477525;
	mso-list-template-ids:-1790806996;}
@list l1:level1
	{mso-level-number-format:bullet;
	mso-level-text:   ;
	mso-level-tab-stop:.5in;
	mso-level-number-position:left;
	text-indent:-.25in;
	mso-ansi-font-size:10.0pt;
	font-family:Symbol;}
@list l1:level2
	{mso-level-tab-stop:1.0in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l1:level3
	{mso-level-tab-stop:1.5in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l1:level4
	{mso-level-tab-stop:2.0in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l1:level5
	{mso-level-tab-stop:2.5in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l1:level6
	{mso-level-tab-stop:3.0in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l1:level7
	{mso-level-tab-stop:3.5in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l1:level8
	{mso-level-tab-stop:4.0in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l1:level9
	{mso-level-tab-stop:4.5in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l2
	{mso-list-id:481510816;
	mso-list-template-ids:-1185275268;}
@list l2:level1
	{mso-level-number-format:bullet;
	mso-level-text:   ;
	mso-level-tab-stop:.5in;
	mso-level-number-position:left;
	text-indent:-.25in;
	mso-ansi-font-size:10.0pt;
	font-family:Symbol;}
@list l2:level2
	{mso-level-tab-stop:1.0in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l2:level3
	{mso-level-tab-stop:1.5in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l2:level4
	{mso-level-tab-stop:2.0in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l2:level5
	{mso-level-tab-stop:2.5in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l2:level6
	{mso-level-tab-stop:3.0in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l2:level7
	{mso-level-tab-stop:3.5in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l2:level8
	{mso-level-tab-stop:4.0in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l2:level9
	{mso-level-tab-stop:4.5in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l3
	{mso-list-id:626006455;
	mso-list-template-ids:-2082973768;}
@list l3:level1
	{mso-level-number-format:bullet;
	mso-level-text:   ;
	mso-level-tab-stop:.5in;
	mso-level-number-position:left;
	text-indent:-.25in;
	mso-ansi-font-size:10.0pt;
	font-family:Symbol;}
@list l3:level2
	{mso-level-tab-stop:1.0in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l3:level3
	{mso-level-tab-stop:1.5in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l3:level4
	{mso-level-tab-stop:2.0in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l3:level5
	{mso-level-tab-stop:2.5in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l3:level6
	{mso-level-tab-stop:3.0in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l3:level7
	{mso-level-tab-stop:3.5in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l3:level8
	{mso-level-tab-stop:4.0in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l3:level9
	{mso-level-tab-stop:4.5in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l4
	{mso-list-id:860244000;
	mso-list-template-ids:-977519168;}
@list l4:level1
	{mso-level-number-format:bullet;
	mso-level-text:   ;
	mso-level-tab-stop:.5in;
	mso-level-number-position:left;
	text-indent:-.25in;
	mso-ansi-font-size:10.0pt;
	font-family:Symbol;}
@list l4:level2
	{mso-level-tab-stop:1.0in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l4:level3
	{mso-level-tab-stop:1.5in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l4:level4
	{mso-level-tab-stop:2.0in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l4:level5
	{mso-level-tab-stop:2.5in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l4:level6
	{mso-level-tab-stop:3.0in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l4:level7
	{mso-level-tab-stop:3.5in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l4:level8
	{mso-level-tab-stop:4.0in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l4:level9
	{mso-level-tab-stop:4.5in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l5
	{mso-list-id:904029224;
	mso-list-template-ids:1136928356;}
@list l5:level1
	{mso-level-number-format:bullet;
	mso-level-text:   ;
	mso-level-tab-stop:.5in;
	mso-level-number-position:left;
	text-indent:-.25in;
	mso-ansi-font-size:10.0pt;
	font-family:Symbol;}
@list l5:level2
	{mso-level-tab-stop:1.0in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l5:level3
	{mso-level-tab-stop:1.5in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l5:level4
	{mso-level-tab-stop:2.0in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l5:level5
	{mso-level-tab-stop:2.5in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l5:level6
	{mso-level-tab-stop:3.0in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l5:level7
	{mso-level-tab-stop:3.5in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l5:level8
	{mso-level-tab-stop:4.0in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l5:level9
	{mso-level-tab-stop:4.5in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l6
	{mso-list-id:972439743;
	mso-list-template-ids:1666220714;}
@list l6:level1
	{mso-level-number-format:bullet;
	mso-level-text:   ;
	mso-level-tab-stop:.5in;
	mso-level-number-position:left;
	text-indent:-.25in;
	mso-ansi-font-size:10.0pt;
	font-family:Symbol;}
@list l6:level2
	{mso-level-tab-stop:1.0in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l6:level3
	{mso-level-tab-stop:1.5in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l6:level4
	{mso-level-tab-stop:2.0in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l6:level5
	{mso-level-tab-stop:2.5in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l6:level6
	{mso-level-tab-stop:3.0in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l6:level7
	{mso-level-tab-stop:3.5in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l6:level8
	{mso-level-tab-stop:4.0in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l6:level9
	{mso-level-tab-stop:4.5in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l7
	{mso-list-id:1062295000;
	mso-list-template-ids:717548572;}
@list l7:level1
	{mso-level-number-format:bullet;
	mso-level-text:   ;
	mso-level-tab-stop:.5in;
	mso-level-number-position:left;
	text-indent:-.25in;
	mso-ansi-font-size:10.0pt;
	font-family:Symbol;}
@list l7:level2
	{mso-level-tab-stop:1.0in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l7:level3
	{mso-level-tab-stop:1.5in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l7:level4
	{mso-level-tab-stop:2.0in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l7:level5
	{mso-level-tab-stop:2.5in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l7:level6
	{mso-level-tab-stop:3.0in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l7:level7
	{mso-level-tab-stop:3.5in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l7:level8
	{mso-level-tab-stop:4.0in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l7:level9
	{mso-level-tab-stop:4.5in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l8
	{mso-list-id:1447039053;
	mso-list-template-ids:422315402;}
@list l8:level1
	{mso-level-number-format:bullet;
	mso-level-text:   ;
	mso-level-tab-stop:.5in;
	mso-level-number-position:left;
	text-indent:-.25in;
	mso-ansi-font-size:10.0pt;
	font-family:Symbol;}
@list l9
	{mso-list-id:1929150068;
	mso-list-template-ids:-87143334;}
@list l9:level1
	{mso-level-number-format:bullet;
	mso-level-text:   ;
	mso-level-tab-stop:.5in;
	mso-level-number-position:left;
	text-indent:-.25in;
	mso-ansi-font-size:10.0pt;
	font-family:Symbol;}
ol
	{margin-bottom:0in;}
ul
	{margin-bottom:0in;}
-->
</style>
<!--[if gte mso 10]>
<style>
 /* Style Definitions */
 table.MsoNormalTable
	{mso-style-name:"Table Normal";
	mso-tstyle-rowband-size:0;
	mso-tstyle-colband-size:0;
	mso-style-noshow:yes;
	mso-style-parent:"";
	mso-padding-alt:0in 5.4pt 0in 5.4pt;
	mso-para-margin:0in;
	mso-para-margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	font-size:10.0pt;
	font-family:"Times New Roman";}
</style>
<![endif]-->
<meta name=CREATED content="20070628;12545200">
<meta name=CHANGEDBY content="Robb Kambic">
<meta name=CHANGED content="20070723;14564600">
<!--[if gte mso 9]><xml>
 <o:shapedefaults v:ext="edit" spidmax="2050"/>
</xml><![endif]--><!--[if gte mso 9]><xml>
 <o:shapelayout v:ext="edit">
  <o:idmap v:ext="edit" data="1"/>
 </o:shapelayout></xml><![endif]-->
</head>

<body lang=EN-US link=blue vlink=blue style='tab-interval:.5in'>

<div class=Section1>

<h2 align=center style='text-align:center'>Tomcat Production Installation
Advanced</h2>

<p>A production installation limits the exposure to security risks and makes
Tomcat run more efficiently. At this time there are no known security risks in
the Tomcat architecture but that doesn't mean that there will not be any in the
future, so it's better to tighten the installation now so if a security
break-in does occur then the damage will be minimum. Why do you think Tomcat
has security risks? The following installation conventions limit security risks by restricting the tomcat permissions,
the machine ports open to the internet, and the IPs accessing the TDS. UCAR
break in example. <span style='mso-spacerun:yes'>  </span></p>

<p>The production installation requires root privileges for many of the
operations so the use of sudo command is needed or the root passwd. Because
many of the configurations are complex, it is advised to have your system
administrator do them for you. Also, if a configuration mistake is made then
the responsibility is on the system administrator's shoulders, not yours.<span
style='mso-spacerun:yes'>   </span></p>

<h2>Create unprivileged user tomcat &amp; Tomcat Install Location</h2>

<p>By default, Tomcat runs on port 8080 and therefore does not require root to
run. It's important not to run as root. Create a special user, e.g. named
&quot;tomcat&quot;, which owns everything under ${tomcat_home}, and change to
that user to run Tomcat. This special user will need read/write access to
${tomcat_home} and its subdirectories, and read access to your data
directories. Don't give the tomcat user any rights in any other directories. If
your operating system allows it (e.g. Unix, Linux), you might also not allow
the tomcat user to log in directly. You would log in as yourself, and then
switch to being the tomcat user using the <a
href="http://www.linuxhomenetworking.com/wiki/index.php/Quick_HOWTO_:_Ch09_:_Linux_Users_and_Sudo">sudo</a>
command. One should create a tomcat group when using the <a
href="http://linux.about.com/od/commands/l/blcmdl8_adduser.htm">adduser</a> command
to make the user tomcat. </p>

<pre>% adduser tomcat -u 91 -d /opt/tomcat -g tomcat</pre><pre><o:p>&nbsp;</o:p></pre>

<p style='tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt'>The
default home for tomcat is /opt/tomcat but in reality, it's a link to the
current tomcat distribution.<span style='mso-spacerun:yes'>   </span>This is
done so one can switch which tomcat is running by making the tomcat link point
to a different distribution. More on that later. <span
style='mso-spacerun:yes'>  </span></pr></p>

<pre><o:p>&nbsp;</o:p></pre><pre>% cd /opt</pre><pre>- Get the latest tomcat installation from web</pre><pre>ie.<span style='mso-spacerun:yes'>   </span>apache-tomcat-6.0.13.tar.gz</pre><pre>% mkdir<span style='mso-spacerun:yes'>   </span>apache-tomcat-6.0.13</pre><pre>% chown tomcat:tomcat apache-tomcat-6.0.13</pre><pre>% ln -s apache-tomcat-6.0.13 tomcat<span style='mso-spacerun:yes'>   </span>Why make the tomcat link?</pre><pre><o:p>&nbsp;</o:p></pre><pre>% su tomcat</pre><pre>% tar zxvf apache-tomcat-6.0.13.tar.gz</pre><pre><o:p>&nbsp;</o:p></pre>

<p style='tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt'>The
tomcat installation is now encapsulated under one directory tree, so if a
break-in does occurs the hacker cannot modify files outside the tomcat
directory structure.<span style='mso-spacerun:yes'>   </span>If the installation
was done under your personal login, the hacker would gain all the permissions
that you have and he could possibility do much more damage.<o:p></o:p></p>

<pre><b style='mso-bidi-font-weight:normal'><span style='font-size:18.0pt'>Tomcat upgrade<o:p></o:p></span></b></pre>

<p style='tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt'>Tomcat
makes new releases every couple of months to fix bugs and security leaks, also
new version features are released periodically that are beneficial to install.
As a backup measure, always create a new tomcat installation so if the new
installation doesn't go well, one can move the tomcat link back to the old
installation. Basically follow the steps above but skip the creation of the
tomcat link until one is ready to start the new installation.<span
style='mso-spacerun:yes'>   </span>After the new installation is unpacked as
user tomcat, one has to copy the entire TDS configuration from the old installation
to the new installation. </p>

<p style='tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt'>What
are the TDS configurations: thredds.war, the content directory, exec directory,
and conf directory. It's possible that some of the configurations in the conf
directory might have to be redone. What ones? </p>

<p style='tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt'>At
this time, it's time to stop the current tomcat, remove the tomcat link and
then make another tomcat link pointing to the new distribution, then start the
new tomcat installation. This process seems like a lot of work but when you
need some backup information, it's a life saver.</p>

<h2 style='tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt'>Use
a Firewall</h2>

<p style='tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt'>Unless
you are on a private network, you need a firewall. A firewall restricts who is
allowed to access network ports. Since most production systems are on Linux
boxes, this will be the firewall configuration that we will cover. At first the
firewalls were implemented as ipchains, but now iptables. An useful feature of <code><span
style='font-size:10.0pt'>iptables</span></code> is that it can remember some
previous traffic and use that information in determining the acceptability of
future packets; e.g. when you contact a web site and the web server sends
information back to you, <code><span style='font-size:10.0pt'>iptables</span></code>
can determine the information sent back to you was in response to your initial
web request, and accept it as part of your web request. This allows for fairly
tight firewall rules to be constructed that still do not interfere with what
you want to do.<span style='mso-spacerun:yes'>   </span></p>

<p style='margin-left:.5in;text-indent:-.25in;mso-list:l4 level1 lfo2;
tab-stops:list .5in'><![if !supportLists]><span style='font-size:10.0pt;
mso-bidi-font-size:12.0pt;font-family:Symbol;mso-fareast-font-family:Symbol;
mso-bidi-font-family:Symbol'><span style='mso-list:Ignore'>  <span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]>Port 8080 should have unrestricted access. </p>

<p style='margin-left:.5in;text-indent:-.25in;mso-list:l5 level1 lfo4;
tab-stops:list .5in'><![if !supportLists]><span style='font-size:10.0pt;
mso-bidi-font-size:12.0pt;font-family:Symbol;mso-fareast-font-family:Symbol;
mso-bidi-font-family:Symbol'><span style='mso-list:Ignore'>  <span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]>If you are allowing remote management, you must
also open up port 8443. (recommended) </p>

<p style='margin-left:.5in;text-indent:-.25in;mso-list:l0 level1 lfo6;
tab-stops:list .5in'><![if !supportLists]><span style='font-size:10.0pt;
mso-bidi-font-size:12.0pt;font-family:Symbol;mso-fareast-font-family:Symbol;
mso-bidi-font-family:Symbol'><span style='mso-list:Ignore'>  <span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]>Tomcat also uses port 8005 to enable shutdown.
However, shutdown can only be run from the same machine as Tomcat is running.
As long as untrusted users aren't running on your server machine, you shouldn't
have to worry about this port being open. However, you might want to restrict
public access to it so hackers aren't tempted. </p>

<p style='margin-left:.5in;text-indent:-.25in;mso-list:l3 level1 lfo8;
tab-stops:list .5in'><![if !supportLists]><span style='font-size:10.0pt;
mso-bidi-font-size:12.0pt;font-family:Symbol;mso-fareast-font-family:Symbol;
mso-bidi-font-family:Symbol'><span style='mso-list:Ignore'>  <span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]>If you are also using Tomcat in conjunction with
another web server like Apache to handle servlet/JSP requests, you need to
allow that server access to port 8009, but typically that can be restricted to
accesses on the same machine or at least on your subnet. If you are running
Tomcat only standalone (e.g. only running the THREDDS data server) then disable
port 8009 in ${tomcat_home}/conf/server.xml file. </p>

<pre>Firewall file: /etc/sysconfig/iptables</pre><pre><o:p>&nbsp;</o:p></pre><pre><o:p>&nbsp;</o:p></pre><pre>*filter</pre><pre>:INPUT ACCEPT [0:0]</pre><pre>:FORWARD DROP [0:0]</pre><pre>:OUTPUT ACCEPT [0:0]</pre><pre>:EXTERNAL - [0:0]</pre><pre>:UNIDATA - [0:0]</pre><pre>#</pre><pre># Route INPUT to appropriate bins</pre><pre>#</pre><pre>-A INPUT -i lo -j ACCEPT</pre><pre>-A INPUT -p icmp --icmp-type any -j ACCEPT</pre><pre>-A INPUT -m state --state ESTABLISHED,RELATED -j ACCEPT</pre><pre>-A INPUT -s 128.117.47.200/32 -j UNIDATA</pre><pre>-A INPUT -s 128.117.140.0/24 -j UNIDATA</pre><pre>-A INPUT -s 128.117.156.0/24 -j UNIDATA</pre><pre>-A INPUT -j EXTERNAL</pre><pre>#</pre><pre># Handle external connections</pre><pre>#</pre><pre>-A EXTERNAL -j REJECT</pre><pre># Handle internal connections</pre><pre>#</pre><pre>-A UNIDATA -m state --state NEW -p tcp --dport 22 -j ACCEPT</pre><pre>-A UNIDATA -m state --state NEW -p tcp --dport 112 -j ACCEPT</pre><pre>-A UNIDATA -m state --state NEW -p tcp --dport 388 -j ACCEPT</pre><pre>-A UNIDATA -m state --state NEW -p tcp --dport 500 -j ACCEPT</pre><pre>-A UNIDATA -m state --state NEW -p tcp --dport 503 -j ACCEPT</pre><pre>-A UNIDATA -m state --state NEW -p tcp --dport 5900 -j ACCEPT</pre><pre>-A UNIDATA -m state --state NEW -p tcp --dport 8080 -j ACCEPT</pre><pre>-A UNIDATA -m state --state NEW -p tcp --dport 8443 -j ACCEPT</pre><pre>-A UNIDATA -j REJECT</pre><pre>#</pre><pre># Mark outgoing packets for keeping state</pre><pre>#</pre><pre>-A OUTPUT -d 127.0.0.1 -j ACCEPT</pre><pre>-A OUTPUT -m state --state NEW -p tcp -j ACCEPT</pre><pre>-A OUTPUT -m state --state NEW -p udp -j ACCEPT</pre><pre>COMMIT</pre>

<p style='tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt'>Resources:</p>

<p style='tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt'><a
href="http://www.physics.umd.edu/pnce/user-docs/Linux/firewall.html">Linux Firewall
Tips</a> </p>

<p style='tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt'><a
href="http://www.linuxhomenetworking.com/wiki/index.php/Quick_HOWTO_:_Ch14_:_Linux_Firewalls_Using_iptables">HOWTO
Firewall</a> </p>

<h2 style='tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt'><o:p>&nbsp;</o:p></h2>

<h2 style='tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt'>Steps
done as user tomcat</h2>

<p style='tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt'><o:p>&nbsp;</o:p></p>

<h2 style='tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt'>-
Configure Tomcat file conf/server.xml for IP filtering</h2>

<p style='margin-bottom:12.0pt;tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt'>Sometimes
known users abuse your TDS service by hammering your TDS with constant requests
or hackers hammering your server. Tomcat provides a valve to allow one to
filter the request and to deny service to those IPs.<span
style='mso-spacerun:yes'>   </span>A valve is a component to be inserted into
the request processing pipeline for a Catalina container in the tomcat
conf/server.xml configuration file.</p>

<p style='tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt'>&lt;Engine
name=&quot;Catalina&quot; defaultHost=&quot;localhost&quot;&gt;</p>

<pre>    &lt;Valve className=&quot;org.apache.catalina.valves.RemoteAddrValve&quot; deny=&quot;18.83.0.150,69.25.71.12&quot; /&gt;
    ...
    ...
</pre>

<p style='margin-bottom:12.0pt;tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt'><a
href="http://tomcat.apache.org/tomcat-6.0-doc/config/valve.html">valve</a>
Documentation</p>

<p style='margin-bottom:12.0pt;tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt'><a
href="http://tomcat.apache.org/tomcat-6.0-doc/config/engine.html">engine</a>
Documentation</p>

<p style='tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt'>Are
there any other ways to do IP filtering?<span style='mso-spacerun:yes'>    
</span></p>

<p style='tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt'>How
about this.</p>

<p style='tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt'>-A
INPUT -s 18.83.0.150 -j DROP</p>

<p style='tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt'><b
style='mso-bidi-font-weight:normal'><span style='font-size:18.0pt'>- Disable
Web Indexers<o:p></o:p></span></b></p>

<p style='tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt'>The
TDS installation comes with a robots.txt file to disable robots from indexing
your data repository, this is especially important if you are storing real time
data for a short period of time. If the robots index your site having the
possibility over load your cpu/disk and making information that is most likely
out of date. </p>

<p style='tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt'>%
cp /opt/tomcat/webapps/thredds/WEB-INF/initialContent/root/robots.txt
/opt/tomcat/webapps/ROOT</p>

<h2 style='tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt'>-
Installing a Certificate from a Certificate Authority</h2>

<p style='tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt'>The
use of SSL in this way prevents a network sniffer from getting your password. A
more sophisticated (and more difficult to perform) attack is the so called <em>man-in-the-middle</em>
attack where someone pretends to be your server, and induces your client to
send the password to it. </p>

<p style='tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt'>Earlier
we used self-signed certificates, and your browser will give you a warning each
time you access a web page that uses self-signed certificates. It will allow
you to choose to continue however, and so a clever enough attacker might induce
you to accept their self-signed certificate. To prevent this, you can obtain a
certificate signed by a <em>Certificate Authority</em> (CA). <span
style='mso-spacerun:yes'>  </span>The browser will see that its a valid
certificate, and so you will never accept self-signed certificates and you will
preclude man-in-the-middle attacks.</p>

<p style='tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt'>Obtaining
and installing a CA signed certificate is a fair amount of work, but not really
all that difficult. We recommend it if you plan on leaving remote management
enabled in production mode.</p>

<p style='tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt'><o:p>&nbsp;</o:p></p>

<p class=MsoNormal style='tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt'><span
style='display:none;mso-hide:all'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt'><span
style='display:none;mso-hide:all'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt'><span
style='display:none;mso-hide:all'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt'><span
style='display:none;mso-hide:all'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt'><span
style='display:none;mso-hide:all'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt'><span
style='display:none;mso-hide:all'><o:p>&nbsp;</o:p></span></p>

<table class=MsoNormalTable border=0 cellspacing=0 cellpadding=0
 style='mso-cellspacing:0in;mso-padding-alt:1.5pt 1.5pt 1.5pt 1.5pt'>
 <tr style='mso-yfti-irow:0'>
  <td style='background:#525D76;padding:1.5pt 1.5pt 1.5pt 1.5pt'>
  <p class=MsoNormal><a name=Configuration><strong><span style='font-family:
  Arial;color:white'>Configuration</span></strong></a></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:1;mso-yfti-lastrow:yes'>
  <td style='padding:1.5pt 1.5pt 1.5pt 1.5pt'>
  <p class=MsoNormal><span style='display:none;mso-hide:all'><o:p>&nbsp;</o:p></span></p>
  <p class=MsoNormal><o:p>&nbsp;</o:p></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt'><span
style='display:none;mso-hide:all'><o:p>&nbsp;</o:p></span></p>

<table class=MsoNormalTable border=0 cellspacing=0 cellpadding=0
 style='mso-cellspacing:0in;mso-padding-alt:1.5pt 1.5pt 1.5pt 1.5pt'>
 <tr style='mso-yfti-irow:0'>
  <td style='background:#525D76;padding:1.5pt 1.5pt 1.5pt 1.5pt'>
  <p class=MsoNormal><a name="Installing_a_Certificate_from_a_Certific"><strong><span
  style='font-family:Arial;color:white'>Installing a Certificate from a
  Certificate Authority</span></strong></a></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:1;mso-yfti-lastrow:yes'>
  <td style='padding:1.5pt 1.5pt 1.5pt 1.5pt'>
  <p>To obtain and install a Certificate from a Certificate Authority (like
  verisign.com, thawte.com or trustcenter.de) you should have read the previous
  section and then follow these instructions:</p>
  <table class=MsoNormalTable border=0 cellspacing=0 cellpadding=0
   style='mso-cellspacing:0in;mso-padding-alt:1.5pt 1.5pt 1.5pt 1.5pt'>
   <tr style='mso-yfti-irow:0'>
    <td style='background:#828DA6;padding:1.5pt 1.5pt 1.5pt 1.5pt'>
    <p class=MsoNormal><a name="Create_a_local_Certificate_Signing_Reque"><strong><span
    style='font-family:Arial;color:white'>Create a local Certificate Signing
    Request (CSR)</span></strong></a></p>
    </td>
   </tr>
   <tr style='mso-yfti-irow:1;mso-yfti-lastrow:yes'>
    <td style='padding:1.5pt 1.5pt 1.5pt 1.5pt'>
    <p>In order to obtain a Certificate from the Certificate Authority of your choice
    you have to create a so called Certificate Signing Request (CSR). That CSR
    will be used by the Certificate Authority to create a Certificate that will
    identify your website as &quot;secure&quot;. To create a CSR follow these
    steps:</p>
    <p class=MsoNormal style='mso-margin-top-alt:auto;mso-margin-bottom-alt:
    auto;margin-left:1.0in;text-indent:-.25in;mso-list:l1 level1 lfo10;
    tab-stops:list .5in'><![if !supportLists]><span style='font-size:10.0pt;
    mso-bidi-font-size:12.0pt;font-family:Symbol;mso-fareast-font-family:Symbol;
    mso-bidi-font-family:Symbol'><span style='mso-list:Ignore'>  <span
    style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    </span></span></span><![endif]>Create a local Certificate (as described in
    the previous section): </p>
    <table class=MsoNormalTable border=0 cellspacing=4 cellpadding=0
     style='mso-cellspacing:3.0pt;margin-left:.5in;mso-padding-alt:0in 0in 0in 0in'>
     <tr style='mso-yfti-irow:0;height:.75pt'>
      <td width=10 style='width:.1in;background:#023264;padding:0in 0in 0in 0in;
      height:.75pt'>
      <p class=MsoNormal style='mso-line-height-alt:.75pt'><!--[if gte vml 1]><v:shapetype
       id="_x0000_t75" coordsize="21600,21600" o:spt="75" o:preferrelative="t"
       path="m@4@5l@4@11@9@11@9@5xe" filled="f" stroked="f">
       <v:stroke joinstyle="miter"/>
       <v:formulas>
        <v:f eqn="if lineDrawn pixelLineWidth 0"/>
        <v:f eqn="sum @0 1 0"/>
        <v:f eqn="sum 0 0 @1"/>
        <v:f eqn="prod @2 1 2"/>
        <v:f eqn="prod @3 21600 pixelWidth"/>
        <v:f eqn="prod @3 21600 pixelHeight"/>
        <v:f eqn="sum @0 0 1"/>
        <v:f eqn="prod @6 1 2"/>
        <v:f eqn="prod @7 21600 pixelWidth"/>
        <v:f eqn="sum @8 21600 0"/>
        <v:f eqn="prod @7 21600 pixelHeight"/>
        <v:f eqn="sum @10 21600 0"/>
       </v:formulas>
       <v:path o:extrusionok="f" gradientshapeok="t" o:connecttype="rect"/>
       <o:lock v:ext="edit" aspectratio="t"/>
      </v:shapetype><v:shape id="_x0000_i1025" type="#_x0000_t75" alt=""
       style='width:.75pt;height:.75pt'>
       <v:imagedata src="productionAdvanced_files/image001.gif" o:href="http://tomcat.apache.org/tomcat-6.0-doc/images/void.gif"/>
      </v:shape><![endif]--><![if !vml]><img border=0 width=1 height=1
      src="productionAdvanced_files/image001.gif" v:shapes="_x0000_i1025"><![endif]></p>
      </td>
      <td style='background:#023264;padding:0in 0in 0in 0in;height:.75pt'>
      <p class=MsoNormal style='mso-line-height-alt:.75pt'><!--[if gte vml 1]><v:shape
       id="_x0000_i1026" type="#_x0000_t75" alt="" style='width:.75pt;height:.75pt'>
       <v:imagedata src="productionAdvanced_files/image001.gif" o:href="http://tomcat.apache.org/tomcat-6.0-doc/images/void.gif"/>
      </v:shape><![endif]--><![if !vml]><img border=0 width=1 height=1
      src="productionAdvanced_files/image001.gif" v:shapes="_x0000_i1026"><![endif]></p>
      </td>
      <td width=10 style='width:.1in;background:#023264;padding:0in 0in 0in 0in;
      height:.75pt'>
      <p class=MsoNormal style='mso-line-height-alt:.75pt'><!--[if gte vml 1]><v:shape
       id="_x0000_i1027" type="#_x0000_t75" alt="" style='width:.75pt;height:.75pt'>
       <v:imagedata src="productionAdvanced_files/image001.gif" o:href="http://tomcat.apache.org/tomcat-6.0-doc/images/void.gif"/>
      </v:shape><![endif]--><![if !vml]><img border=0 width=1 height=1
      src="productionAdvanced_files/image001.gif" v:shapes="_x0000_i1027"><![endif]></p>
      </td>
     </tr>
     <tr style='mso-yfti-irow:1;height:.75pt'>
      <td width=10 style='width:.1in;background:#023264;padding:0in 0in 0in 0in;
      height:.75pt'>
      <p class=MsoNormal><!--[if gte vml 1]><v:shape id="_x0000_i1028" type="#_x0000_t75"
       alt="" style='width:.75pt;height:.75pt'>
       <v:imagedata src="productionAdvanced_files/image001.gif" o:href="http://tomcat.apache.org/tomcat-6.0-doc/images/void.gif"/>
      </v:shape><![endif]--><![if !vml]><img border=0 width=1 height=1
      src="productionAdvanced_files/image001.gif" v:shapes="_x0000_i1028"><![endif]></p>
      </td>
      <td style='background:white;padding:0in 0in 0in 0in;height:.75pt'><pre>keytool -genkey -alias tomcat -keyalg RSA \</pre><pre
      style='mso-line-height-alt:.75pt'><span style='mso-tab-count:1'>               </span>-keystore &lt;your_keystore_filename&gt;</pre></td>
      <td width=10 style='width:.1in;background:#023264;padding:0in 0in 0in 0in;
      height:.75pt'>
      <p class=MsoNormal style='mso-line-height-alt:.75pt;tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt'><!--[if gte vml 1]><v:shape
       id="_x0000_i1029" type="#_x0000_t75" alt="" style='width:.75pt;height:.75pt'>
       <v:imagedata src="productionAdvanced_files/image001.gif" o:href="http://tomcat.apache.org/tomcat-6.0-doc/images/void.gif"/>
      </v:shape><![endif]--><![if !vml]><img border=0 width=1 height=1
      src="productionAdvanced_files/image001.gif" v:shapes="_x0000_i1029"><![endif]></p>
      </td>
     </tr>
     <tr style='mso-yfti-irow:2;mso-yfti-lastrow:yes;height:.75pt'>
      <td width=10 style='width:.1in;background:#023264;padding:0in 0in 0in 0in;
      height:.75pt'>
      <p class=MsoNormal style='mso-line-height-alt:.75pt;tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt'><!--[if gte vml 1]><v:shape
       id="_x0000_i1030" type="#_x0000_t75" alt="" style='width:.75pt;height:.75pt'>
       <v:imagedata src="productionAdvanced_files/image001.gif" o:href="http://tomcat.apache.org/tomcat-6.0-doc/images/void.gif"/>
      </v:shape><![endif]--><![if !vml]><img border=0 width=1 height=1
      src="productionAdvanced_files/image001.gif" v:shapes="_x0000_i1030"><![endif]></p>
      </td>
      <td style='background:#023264;padding:0in 0in 0in 0in;height:.75pt'>
      <p class=MsoNormal style='mso-line-height-alt:.75pt;tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt'><!--[if gte vml 1]><v:shape
       id="_x0000_i1031" type="#_x0000_t75" alt="" style='width:.75pt;height:.75pt'>
       <v:imagedata src="productionAdvanced_files/image001.gif" o:href="http://tomcat.apache.org/tomcat-6.0-doc/images/void.gif"/>
      </v:shape><![endif]--><![if !vml]><img border=0 width=1 height=1
      src="productionAdvanced_files/image001.gif" v:shapes="_x0000_i1031"><![endif]></p>
      </td>
      <td width=10 style='width:.1in;background:#023264;padding:0in 0in 0in 0in;
      height:.75pt'>
      <p class=MsoNormal style='mso-line-height-alt:.75pt;tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt'><!--[if gte vml 1]><v:shape
       id="_x0000_i1032" type="#_x0000_t75" alt="" style='width:.75pt;height:.75pt'>
       <v:imagedata src="productionAdvanced_files/image001.gif" o:href="http://tomcat.apache.org/tomcat-6.0-doc/images/void.gif"/>
      </v:shape><![endif]--><![if !vml]><img border=0 width=1 height=1
      src="productionAdvanced_files/image001.gif" v:shapes="_x0000_i1032"><![endif]></p>
      </td>
     </tr>
    </table>
    <p class=MsoNormal style='mso-margin-top-alt:auto;mso-margin-bottom-alt:
    auto;margin-left:1.0in;text-indent:-.25in;mso-list:l1 level1 lfo10;
    tab-stops:list .5in'><![if !supportLists]><span style='font-size:10.0pt;
    mso-bidi-font-size:12.0pt;font-family:Symbol;mso-fareast-font-family:Symbol;
    mso-bidi-font-family:Symbol'><span style='mso-list:Ignore'>  <span
    style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    </span></span></span><![endif]>Note: In some cases you will have to enter the
    domain of your website (i.e. <code><span style='font-size:10.0pt'>www.myside.org</span></code>)
    in the field &quot;first- and last name&quot; in order to create a working
    Certificate. </p>
    <p class=MsoNormal style='mso-margin-top-alt:auto;mso-margin-bottom-alt:
    auto;margin-left:1.0in;text-indent:-.25in;mso-list:l1 level1 lfo10;
    tab-stops:list .5in'><![if !supportLists]><span style='font-size:10.0pt;
    mso-bidi-font-size:12.0pt;font-family:Symbol;mso-fareast-font-family:Symbol;
    mso-bidi-font-family:Symbol'><span style='mso-list:Ignore'>  <span
    style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    </span></span></span><![endif]>The CSR is then created with: </p>
    <table class=MsoNormalTable border=0 cellspacing=4 cellpadding=0
     style='mso-cellspacing:3.0pt;margin-left:.5in;mso-padding-alt:0in 0in 0in 0in'>
     <tr style='mso-yfti-irow:0;height:.75pt'>
      <td width=10 style='width:.1in;background:#023264;padding:0in 0in 0in 0in;
      height:.75pt'>
      <p class=MsoNormal style='mso-line-height-alt:.75pt'><!--[if gte vml 1]><v:shape
       id="_x0000_i1033" type="#_x0000_t75" alt="" style='width:.75pt;height:.75pt'>
       <v:imagedata src="productionAdvanced_files/image001.gif" o:href="http://tomcat.apache.org/tomcat-6.0-doc/images/void.gif"/>
      </v:shape><![endif]--><![if !vml]><img border=0 width=1 height=1
      src="productionAdvanced_files/image001.gif" v:shapes="_x0000_i1033"><![endif]></p>
      </td>
      <td style='background:#023264;padding:0in 0in 0in 0in;height:.75pt'>
      <p class=MsoNormal style='mso-line-height-alt:.75pt'><!--[if gte vml 1]><v:shape
       id="_x0000_i1034" type="#_x0000_t75" alt="" style='width:.75pt;height:.75pt'>
       <v:imagedata src="productionAdvanced_files/image001.gif" o:href="http://tomcat.apache.org/tomcat-6.0-doc/images/void.gif"/>
      </v:shape><![endif]--><![if !vml]><img border=0 width=1 height=1
      src="productionAdvanced_files/image001.gif" v:shapes="_x0000_i1034"><![endif]></p>
      </td>
      <td width=10 style='width:.1in;background:#023264;padding:0in 0in 0in 0in;
      height:.75pt'>
      <p class=MsoNormal style='mso-line-height-alt:.75pt'><!--[if gte vml 1]><v:shape
       id="_x0000_i1035" type="#_x0000_t75" alt="" style='width:.75pt;height:.75pt'>
       <v:imagedata src="productionAdvanced_files/image001.gif" o:href="http://tomcat.apache.org/tomcat-6.0-doc/images/void.gif"/>
      </v:shape><![endif]--><![if !vml]><img border=0 width=1 height=1
      src="productionAdvanced_files/image001.gif" v:shapes="_x0000_i1035"><![endif]></p>
      </td>
     </tr>
     <tr style='mso-yfti-irow:1;height:.75pt'>
      <td width=10 style='width:.1in;background:#023264;padding:0in 0in 0in 0in;
      height:.75pt'>
      <p class=MsoNormal><!--[if gte vml 1]><v:shape id="_x0000_i1036" type="#_x0000_t75"
       alt="" style='width:.75pt;height:.75pt'>
       <v:imagedata src="productionAdvanced_files/image001.gif" o:href="http://tomcat.apache.org/tomcat-6.0-doc/images/void.gif"/>
      </v:shape><![endif]--><![if !vml]><img border=0 width=1 height=1
      src="productionAdvanced_files/image001.gif" v:shapes="_x0000_i1036"><![endif]></p>
      </td>
      <td style='background:white;padding:0in 0in 0in 0in;height:.75pt'><pre>keytool -certreq -keyalg RSA -alias tomcat -file certreq.csr \</pre><pre
      style='mso-line-height-alt:.75pt'><span style='mso-tab-count:1'>               </span>-keystore &lt;your_keystore_filename&gt;</pre></td>
      <td width=10 style='width:.1in;background:#023264;padding:0in 0in 0in 0in;
      height:.75pt'>
      <p class=MsoNormal style='mso-line-height-alt:.75pt;tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt'><!--[if gte vml 1]><v:shape
       id="_x0000_i1037" type="#_x0000_t75" alt="" style='width:.75pt;height:.75pt'>
       <v:imagedata src="productionAdvanced_files/image001.gif" o:href="http://tomcat.apache.org/tomcat-6.0-doc/images/void.gif"/>
      </v:shape><![endif]--><![if !vml]><img border=0 width=1 height=1
      src="productionAdvanced_files/image001.gif" v:shapes="_x0000_i1037"><![endif]></p>
      </td>
     </tr>
     <tr style='mso-yfti-irow:2;mso-yfti-lastrow:yes;height:.75pt'>
      <td width=10 style='width:.1in;background:#023264;padding:0in 0in 0in 0in;
      height:.75pt'>
      <p class=MsoNormal style='mso-line-height-alt:.75pt;tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt'><!--[if gte vml 1]><v:shape
       id="_x0000_i1038" type="#_x0000_t75" alt="" style='width:.75pt;height:.75pt'>
       <v:imagedata src="productionAdvanced_files/image001.gif" o:href="http://tomcat.apache.org/tomcat-6.0-doc/images/void.gif"/>
      </v:shape><![endif]--><![if !vml]><img border=0 width=1 height=1
      src="productionAdvanced_files/image001.gif" v:shapes="_x0000_i1038"><![endif]></p>
      </td>
      <td style='background:#023264;padding:0in 0in 0in 0in;height:.75pt'>
      <p class=MsoNormal style='mso-line-height-alt:.75pt;tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt'><!--[if gte vml 1]><v:shape
       id="_x0000_i1039" type="#_x0000_t75" alt="" style='width:.75pt;height:.75pt'>
       <v:imagedata src="productionAdvanced_files/image001.gif" o:href="http://tomcat.apache.org/tomcat-6.0-doc/images/void.gif"/>
      </v:shape><![endif]--><![if !vml]><img border=0 width=1 height=1
      src="productionAdvanced_files/image001.gif" v:shapes="_x0000_i1039"><![endif]></p>
      </td>
      <td width=10 style='width:.1in;background:#023264;padding:0in 0in 0in 0in;
      height:.75pt'>
      <p class=MsoNormal style='mso-line-height-alt:.75pt;tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt'><!--[if gte vml 1]><v:shape
       id="_x0000_i1040" type="#_x0000_t75" alt="" style='width:.75pt;height:.75pt'>
       <v:imagedata src="productionAdvanced_files/image001.gif" o:href="http://tomcat.apache.org/tomcat-6.0-doc/images/void.gif"/>
      </v:shape><![endif]--><![if !vml]><img border=0 width=1 height=1
      src="productionAdvanced_files/image001.gif" v:shapes="_x0000_i1040"><![endif]></p>
      </td>
     </tr>
    </table>
    <p>Now you have a file called <code><span style='font-size:10.0pt'>certreq.csr</span></code>
    that you can submit to the Certificate Authority (look at the documentation
    of the Certificate Authority website on how to do this). In return you get
    a Certificate.</p>
    </td>
   </tr>
  </table>
  <p class=MsoNormal><span style='display:none;mso-hide:all'><o:p>&nbsp;</o:p></span></p>
  <table class=MsoNormalTable border=0 cellspacing=0 cellpadding=0
   style='mso-cellspacing:0in;mso-padding-alt:1.5pt 1.5pt 1.5pt 1.5pt'>
   <tr style='mso-yfti-irow:0'>
    <td style='background:#828DA6;padding:1.5pt 1.5pt 1.5pt 1.5pt'>
    <p class=MsoNormal><a name="Importing_the_Certificate"><strong><span
    style='font-family:Arial;color:white'>Importing the Certificate</span></strong></a></p>
    </td>
   </tr>
   <tr style='mso-yfti-irow:1;mso-yfti-lastrow:yes'>
    <td style='padding:1.5pt 1.5pt 1.5pt 1.5pt'>
    <p>Now that you have your Certificate you can import it into you local
    keystore. First of all you have to import a so called Chain Certificate or
    Root Certificate into your keystore. After that you can proceed with
    importing your Certificate.</p>
    <p class=MsoNormal style='mso-margin-top-alt:auto;mso-margin-bottom-alt:
    auto;margin-left:1.0in;text-indent:-.25in;mso-list:l6 level1 lfo12;
    tab-stops:list .5in'><![if !supportLists]><span style='font-size:10.0pt;
    mso-bidi-font-size:12.0pt;font-family:Symbol;mso-fareast-font-family:Symbol;
    mso-bidi-font-family:Symbol'><span style='mso-list:Ignore'>  <span
    style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    </span></span></span><![endif]>Download a Chain Certificate from the
    Certificate Authority you obtained the Certificate from.<br>
    For RapdidSSL certificates go to:<br>
    http://www.rapidssl.com/index_ssl.htm<br>
    For Verisign.com commercial certificates go to:
    http://www.verisign.com/support/install/intermediate.html<br>
    For Verisign.com trial certificates go to:
    http://www.verisign.com/support/verisign-intermediate-ca/Trial_Secure_Server_Root/index.html
    For Trustcenter.de go to: http://www.trustcenter.de/certservices/cacerts/en/en.htm#server<br>
    For Thawte.com go to: http://www.thawte.com/certs/trustmap.html</p>
    <p class=MsoNormal style='mso-margin-top-alt:auto;mso-margin-bottom-alt:
    auto;margin-left:1.0in;text-indent:-.25in;mso-list:l6 level1 lfo12;
    tab-stops:list .5in'><![if !supportLists]><span style='font-size:10.0pt;
    mso-bidi-font-size:12.0pt;font-family:Symbol;mso-fareast-font-family:Symbol;
    mso-bidi-font-family:Symbol'><span style='mso-list:Ignore'>  <span
    style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    </span></span></span><![endif]>Import the Chain Certificate into you
    keystore </p>
    <table class=MsoNormalTable border=0 cellspacing=4 cellpadding=0
     style='mso-cellspacing:3.0pt;margin-left:.5in;mso-padding-alt:0in 0in 0in 0in'>
     <tr style='mso-yfti-irow:0;height:.75pt'>
      <td width=10 style='width:.1in;background:#023264;padding:0in 0in 0in 0in;
      height:.75pt'>
      <p class=MsoNormal style='mso-line-height-alt:.75pt'><!--[if gte vml 1]><v:shape
       id="_x0000_i1041" type="#_x0000_t75" alt="" style='width:.75pt;height:.75pt'>
       <v:imagedata src="productionAdvanced_files/image001.gif" o:href="http://tomcat.apache.org/tomcat-6.0-doc/images/void.gif"/>
      </v:shape><![endif]--><![if !vml]><img border=0 width=1 height=1
      src="productionAdvanced_files/image001.gif" v:shapes="_x0000_i1041"><![endif]></p>
      </td>
      <td style='background:#023264;padding:0in 0in 0in 0in;height:.75pt'>
      <p class=MsoNormal style='mso-line-height-alt:.75pt'><!--[if gte vml 1]><v:shape
       id="_x0000_i1042" type="#_x0000_t75" alt="" style='width:.75pt;height:.75pt'>
       <v:imagedata src="productionAdvanced_files/image001.gif" o:href="http://tomcat.apache.org/tomcat-6.0-doc/images/void.gif"/>
      </v:shape><![endif]--><![if !vml]><img border=0 width=1 height=1
      src="productionAdvanced_files/image001.gif" v:shapes="_x0000_i1042"><![endif]></p>
      </td>
      <td width=10 style='width:.1in;background:#023264;padding:0in 0in 0in 0in;
      height:.75pt'>
      <p class=MsoNormal style='mso-line-height-alt:.75pt'><!--[if gte vml 1]><v:shape
       id="_x0000_i1043" type="#_x0000_t75" alt="" style='width:.75pt;height:.75pt'>
       <v:imagedata src="productionAdvanced_files/image001.gif" o:href="http://tomcat.apache.org/tomcat-6.0-doc/images/void.gif"/>
      </v:shape><![endif]--><![if !vml]><img border=0 width=1 height=1
      src="productionAdvanced_files/image001.gif" v:shapes="_x0000_i1043"><![endif]></p>
      </td>
     </tr>
     <tr style='mso-yfti-irow:2;mso-yfti-lastrow:yes;height:.75pt'>
      <td width=10 style='width:.1in;background:#023264;padding:0in 0in 0in 0in;
      height:.75pt'>
      <p class=MsoNormal style='mso-line-height-alt:.75pt;tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt'><!--[if gte vml 1]><v:shape
       id="_x0000_i1046" type="#_x0000_t75" alt="" style='width:.75pt;height:.75pt'>
       <v:imagedata src="productionAdvanced_files/image001.gif" o:href="http://tomcat.apache.org/tomcat-6.0-doc/images/void.gif"/>
      </v:shape><![endif]--><![if !vml]><img border=0 width=1 height=1
      src="productionAdvanced_files/image001.gif" v:shapes="_x0000_i1046"><![endif]></p>
      </td>
      <td style='background:#023264;padding:0in 0in 0in 0in;height:.75pt'>
      <p class=MsoNormal style='mso-line-height-alt:.75pt;tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt'><!--[if gte vml 1]><v:shape
       id="_x0000_i1047" type="#_x0000_t75" alt="" style='width:.75pt;height:.75pt'>
       <v:imagedata src="productionAdvanced_files/image001.gif" o:href="http://tomcat.apache.org/tomcat-6.0-doc/images/void.gif"/>
      </v:shape><![endif]--><![if !vml]><img border=0 width=1 height=1
      src="productionAdvanced_files/image001.gif" v:shapes="_x0000_i1047"><![endif]></p>
      </td>
      <td width=10 style='width:.1in;background:#023264;padding:0in 0in 0in 0in;
      height:.75pt'>
      <p class=MsoNormal style='mso-line-height-alt:.75pt;tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt'><!--[if gte vml 1]><v:shape
       id="_x0000_i1048" type="#_x0000_t75" alt="" style='width:.75pt;height:.75pt'>
       <v:imagedata src="productionAdvanced_files/image001.gif" o:href="http://tomcat.apache.org/tomcat-6.0-doc/images/void.gif"/>
      </v:shape><![endif]--><![if !vml]><img border=0 width=1 height=1
      src="productionAdvanced_files/image001.gif" v:shapes="_x0000_i1048"><![endif]></p>
      </td>
     </tr>
    </table>
    <p class=MsoNormal style='mso-margin-top-alt:auto;mso-margin-bottom-alt:
    auto;margin-left:1.0in;text-indent:-.25in;mso-list:l6 level1 lfo12;
    tab-stops:list .5in'><![if !supportLists]><span style='font-size:10.0pt;
    mso-bidi-font-size:12.0pt;font-family:Symbol;mso-fareast-font-family:Symbol;
    mso-bidi-font-family:Symbol'><span style='mso-list:Ignore'>  <span
    style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    </span></span></span><![endif]>And finally import your new Certificate </p>
    <table class=MsoNormalTable border=0 cellspacing=4 cellpadding=0
     style='mso-cellspacing:3.0pt;margin-left:.5in;mso-padding-alt:0in 0in 0in 0in'>
     <tr style='mso-yfti-irow:0;height:.75pt'>
      <td width=10 style='width:.1in;background:#023264;padding:0in 0in 0in 0in;
      height:.75pt'>
      <p class=MsoNormal style='mso-line-height-alt:.75pt'><!--[if gte vml 1]><v:shape
       id="_x0000_i1049" type="#_x0000_t75" alt="" style='width:.75pt;height:.75pt'>
       <v:imagedata src="productionAdvanced_files/image001.gif" o:href="http://tomcat.apache.org/tomcat-6.0-doc/images/void.gif"/>
      </v:shape><![endif]--><![if !vml]><img border=0 width=1 height=1
      src="productionAdvanced_files/image001.gif" v:shapes="_x0000_i1049"><![endif]></p>
      </td>
      <td style='background:#023264;padding:0in 0in 0in 0in;height:.75pt'>
      <p class=MsoNormal style='mso-line-height-alt:.75pt'><!--[if gte vml 1]><v:shape
       id="_x0000_i1050" type="#_x0000_t75" alt="" style='width:.75pt;height:.75pt'>
       <v:imagedata src="productionAdvanced_files/image001.gif" o:href="http://tomcat.apache.org/tomcat-6.0-doc/images/void.gif"/>
      </v:shape><![endif]--><![if !vml]><img border=0 width=1 height=1
      src="productionAdvanced_files/image001.gif" v:shapes="_x0000_i1050"><![endif]></p>
      </td>
      <td width=10 style='width:.1in;background:#023264;padding:0in 0in 0in 0in;
      height:.75pt'>
      <p class=MsoNormal style='mso-line-height-alt:.75pt'><!--[if gte vml 1]><v:shape
       id="_x0000_i1051" type="#_x0000_t75" alt="" style='width:.75pt;height:.75pt'>
       <v:imagedata src="productionAdvanced_files/image001.gif" o:href="http://tomcat.apache.org/tomcat-6.0-doc/images/void.gif"/>
      </v:shape><![endif]--><![if !vml]><img border=0 width=1 height=1
      src="productionAdvanced_files/image001.gif" v:shapes="_x0000_i1051"><![endif]></p>
      </td>
     </tr>
     <tr style='mso-yfti-irow:1;height:.75pt'>
      <td width=10 style='width:.1in;background:#023264;padding:0in 0in 0in 0in;
      height:.75pt'>
      <p class=MsoNormal><!--[if gte vml 1]><v:shape id="_x0000_i1052" type="#_x0000_t75"
       alt="" style='width:.75pt;height:.75pt'>
       <v:imagedata src="productionAdvanced_files/image001.gif" o:href="http://tomcat.apache.org/tomcat-6.0-doc/images/void.gif"/>
      </v:shape><![endif]--><![if !vml]><img border=0 width=1 height=1
      src="productionAdvanced_files/image001.gif" v:shapes="_x0000_i1052"><![endif]></p>
      </td>
      <td style='background:white;padding:0in 0in 0in 0in;height:.75pt'><pre>keytool -import -alias tomcat -keystore &lt;your_keystore_filename&gt; \</pre><pre
      style='mso-line-height-alt:.75pt'><span style='mso-tab-count:1'>               </span>-file &lt;your_certificate_filename&gt;</pre></td>
      <td width=10 style='width:.1in;background:#023264;padding:0in 0in 0in 0in;
      height:.75pt'>
      <p class=MsoNormal style='mso-line-height-alt:.75pt;tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt'><!--[if gte vml 1]><v:shape
       id="_x0000_i1053" type="#_x0000_t75" alt="" style='width:.75pt;height:.75pt'>
       <v:imagedata src="productionAdvanced_files/image001.gif" o:href="http://tomcat.apache.org/tomcat-6.0-doc/images/void.gif"/>
      </v:shape><![endif]--><![if !vml]><img border=0 width=1 height=1
      src="productionAdvanced_files/image001.gif" v:shapes="_x0000_i1053"><![endif]></p>
      </td>
     </tr>
     <tr style='mso-yfti-irow:2;mso-yfti-lastrow:yes;height:.75pt'>
      <td width=10 style='width:.1in;background:#023264;padding:0in 0in 0in 0in;
      height:.75pt'>
      <p class=MsoNormal style='mso-line-height-alt:.75pt;tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt'><!--[if gte vml 1]><v:shape
       id="_x0000_i1054" type="#_x0000_t75" alt="" style='width:.75pt;height:.75pt'>
       <v:imagedata src="productionAdvanced_files/image001.gif" o:href="http://tomcat.apache.org/tomcat-6.0-doc/images/void.gif"/>
      </v:shape><![endif]--><![if !vml]><img border=0 width=1 height=1
      src="productionAdvanced_files/image001.gif" v:shapes="_x0000_i1054"><![endif]></p>
      </td>
      <td style='background:#023264;padding:0in 0in 0in 0in;height:.75pt'>
      <p class=MsoNormal style='mso-line-height-alt:.75pt;tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt'><!--[if gte vml 1]><v:shape
       id="_x0000_i1055" type="#_x0000_t75" alt="" style='width:.75pt;height:.75pt'>
       <v:imagedata src="productionAdvanced_files/image001.gif" o:href="http://tomcat.apache.org/tomcat-6.0-doc/images/void.gif"/>
      </v:shape><![endif]--><![if !vml]><img border=0 width=1 height=1
      src="productionAdvanced_files/image001.gif" v:shapes="_x0000_i1055"><![endif]></p>
      </td>
      <td width=10 style='width:.1in;background:#023264;padding:0in 0in 0in 0in;
      height:.75pt'>
      <p class=MsoNormal style='mso-line-height-alt:.75pt;tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt'><!--[if gte vml 1]><v:shape
       id="_x0000_i1056" type="#_x0000_t75" alt="" style='width:.75pt;height:.75pt'>
       <v:imagedata src="productionAdvanced_files/image001.gif" o:href="http://tomcat.apache.org/tomcat-6.0-doc/images/void.gif"/>
      </v:shape><![endif]--><![if !vml]><img border=0 width=1 height=1
      src="productionAdvanced_files/image001.gif" v:shapes="_x0000_i1056"><![endif]></p>
      </td>
     </tr>
    </table>
    <span style='font-size:12.0pt;font-family:"Times New Roman";mso-fareast-font-family:
    "Times New Roman";mso-ansi-language:EN-US;mso-fareast-language:EN-US;
    mso-bidi-language:AR-SA'>
    <ul type=disc>
     <li class=MsoNormal style='mso-margin-top-alt:auto;mso-margin-bottom-alt:
         auto;mso-list:l6 level1 lfo12;tab-stops:list .5in'><o:p></o:p></li>
    </ul>
    </span></td>
   </tr>
  </table>
  <p class=MsoNormal><o:p></o:p></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt'><span
style='display:none;mso-hide:all'><o:p>&nbsp;</o:p></span></p>

<table class=MsoNormalTable border=0 cellspacing=0 cellpadding=0
 style='mso-cellspacing:0in;mso-padding-alt:1.5pt 1.5pt 1.5pt 1.5pt'>
 <tr style='mso-yfti-irow:0'>
  <td style='background:#525D76;padding:1.5pt 1.5pt 1.5pt 1.5pt'>
  <p class=MsoNormal><a name=Troubleshooting><strong><span style='font-family:
  Arial;color:white'>Troubleshooting</span></strong></a></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:1;mso-yfti-lastrow:yes'>
  <td style='padding:1.5pt 1.5pt 1.5pt 1.5pt'>
  <p>Here is a list of common problems that you may encounter when setting up SSL
  communications, and what to do about them.</p>

  <p class=MsoNormal style='mso-margin-top-alt:auto;mso-margin-bottom-alt:auto;
  margin-left:1.0in;text-indent:-.25in;mso-list:l7 level1 lfo15;tab-stops:list .5in'><![if !supportLists]><span
  style='font-size:10.0pt;mso-bidi-font-size:12.0pt;font-family:Symbol;
  mso-fareast-font-family:Symbol;mso-bidi-font-family:Symbol'><span
  style='mso-list:Ignore'>  <span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  </span></span></span><![endif]>When Tomcat starts up, I get an exception like
  &quot;java.io.FileNotFoundException: {some-directory}/{some-file} not
  found&quot;. </p>
  <p style='margin-left:.5in'>A likely explanation is that Tomcat cannot find
  the keystore file where it is looking. By default, Tomcat expects the
  keystore file to be named <code><span style='font-size:10.0pt'>.keystore</span></code>
  in the user home directory under which Tomcat is running (which may or may
  not be the same as yours :-). If the keystore file is anywhere else, you will
  need to add a <code><span style='font-size:10.0pt'>keystoreFile</span></code>
  attribute to the <code><span style='font-size:10.0pt'>&lt;Factory&gt;</span></code>
  element in the <a
  href="http://tomcat.apache.org/tomcat-6.0-doc/ssl-howto.html#Edit%20the%20Tomcat%20Configuration%20File">Tomcat
  configuration file</a>.</p>
  <p class=MsoNormal style='mso-margin-top-alt:auto;mso-margin-bottom-alt:auto;
  margin-left:1.0in;text-indent:-.25in;mso-list:l7 level1 lfo15;tab-stops:list .5in'><![if !supportLists]><span
  style='font-size:10.0pt;mso-bidi-font-size:12.0pt;font-family:Symbol;
  mso-fareast-font-family:Symbol;mso-bidi-font-family:Symbol'><span
  style='mso-list:Ignore'>  <span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  </span></span></span><![endif]>When Tomcat starts up, I get an exception like
  &quot;java.io.FileNotFoundException: Keystore was tampered with, or password
  was incorrect&quot;. </p>
  <p style='margin-left:.5in'>Assuming that someone has not <em>actually</em>
  tampered with your keystore file, the most likely cause is that Tomcat is
  using a different password than the one you used when you created the
  keystore file. To fix this, you can either go back and <a
  href="http://tomcat.apache.org/tomcat-6.0-doc/ssl-howto.html#Prepare%20the%20Certificate%20Keystore">recreate
  the keystore file</a>, or you can add or update the <code><span
  style='font-size:10.0pt'>keystorePass</span></code> attribute on the <code><span
  style='font-size:10.0pt'>&lt;Connector&gt;</span></code> element in the <a
  href="http://tomcat.apache.org/tomcat-6.0-doc/ssl-howto.html#Edit%20the%20Tomcat%20Configuration%20File">Tomcat
  configuration file</a>. <strong>REMINDER</strong> - Passwords are case
  sensitive!</p>
  <p class=MsoNormal style='mso-margin-top-alt:auto;mso-margin-bottom-alt:auto;
  margin-left:1.0in;text-indent:-.25in;mso-list:l7 level1 lfo15;tab-stops:list .5in'><![if !supportLists]><span
  style='font-size:10.0pt;mso-bidi-font-size:12.0pt;font-family:Symbol;
  mso-fareast-font-family:Symbol;mso-bidi-font-family:Symbol'><span
  style='mso-list:Ignore'>  <span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  </span></span></span><![endif]>When Tomcat starts up, I get an exception like
  &quot;java.net.SocketException: SSL handshake
  errorjavax.net.ssl.SSLException: No available certificate or key corresponds
  to the SSL cipher suites which are enabled.&quot; </p>
  <p style='margin-left:.5in'>A likely explanation is that Tomcat cannot find
  the alias for the server key within the specified keystore. Check that the
  correct <code><span style='font-size:10.0pt'>keystoreFile</span></code> and <code><span
  style='font-size:10.0pt'>keyAlias</span></code> are specified in the <code><span
  style='font-size:10.0pt'>&lt;Connector&gt;</span></code> element in the <a
  href="http://tomcat.apache.org/tomcat-6.0-doc/ssl-howto.html#Edit%20the%20Tomcat%20Configuration%20File">Tomcat
  configuration file</a>. <strong>REMINDER</strong> - <code><span
  style='font-size:10.0pt'>keyAlias</span></code> values may be case sensitive!</p>
  <p>If you are still having problems, a good source of information is the <strong>TOMCAT-USER</strong>
  mailing list. You can find pointers to archives of previous messages on this
  list, as well as subscription and unsubscription information, at <a
  href="http://tomcat.apache.org/lists.html">http://tomcat.apache.org/lists.html</a>.</p>
  </td>
 </tr>
</table>

<p style='margin-bottom:12.0pt;tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt'><a
name="JRE_keystore"></a><o:p>&nbsp;</o:p></p>

<p style='margin-bottom:12.0pt;tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt'>Resources:</p>

<p style='margin-bottom:12.0pt;tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt'><a
href="http://tomcat.apache.org/tomcat-6.0-doc/ssl-howto.html">SSL HOWTO</a></p>

<p style='tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt'><span
style='mso-spacerun:yes'>  </span><a
href="http://java.sun.com/javase/6/docs/technotes/tools/solaris/keytool.html">keytool</a><o:p></o:p></p>

<h2 style='tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt'>-
Configure Tomcat start/stop scripts</h2>

<pre>- Go to bin directory<span style='mso-spacerun:yes'>   </span></pre><pre>% cd /opt/tomcat/bin</pre><pre> </pre><pre>% edit catalina.sh</pre><pre><o:p>&nbsp;</o:p></pre><pre>- enter the following environment variables. </pre><pre>#<span style='mso-spacerun:yes'>     </span>CATALINA_HOME<span style='mso-spacerun:yes'>     </span>Points at your ${tomcat-home} directory.</pre><pre>#<span style='mso-spacerun:yes'>     </span>JAVA_HOME<span style='mso-spacerun:yes'>             </span>Must point at your Java Development Kit installation.</pre><pre>#<span style='mso-spacerun:yes'>     </span>JAVA_OPTS<span style='mso-spacerun:yes'>             </span>Java runtime options used when the &quot;start&quot;,</pre><pre>#</pre><pre><o:p>&nbsp;</o:p></pre><pre> </pre><pre>#!/bin/sh</pre><pre># -----------------------------------------------------------------------------</pre><pre># Start/Stop Script for the CATALINA Server</pre><pre>#</pre><pre># $Id: catalina.sh 385888 2006-03-14 <st1:time
Minute="4" Hour="21">21:04</st1:time>:40Z keith $</pre><pre># -----------------------------------------------------------------------------</pre><pre><o:p>&nbsp;</o:p></pre><pre>CATALINA_HOME=&quot;/opt/tomcat&quot;</pre><pre>export CATALINA_HOME</pre><pre>JAVA_HOME=&quot;/opt/jdk1.6.0&quot;</pre><pre>export JAVA_HOME</pre><pre>JAVA_OPTS&quot;-Xmx2048m -Xms512m -server&quot;</pre><pre>export JAVA_OPTS</pre><pre><o:p>&nbsp;</o:p></pre><pre>...</pre><pre>...</pre><pre><span style='mso-spacerun:yes'>               </span></pre>

<h2 style='tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt'><strong>-
Remove Default Tomcat Applications</strong></h2>

<p style='tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt'>Tomcat
ships with several default web applications, found in the <strong><span
style='mso-spacerun:yes'>  </span>/opt/tomcat/webapps</strong> directory. </p>

<ul type=disc>
 <li class=MsoNormal style='mso-margin-top-alt:auto;mso-margin-bottom-alt:auto;
     mso-list:l2 level1 lfo18;tab-stops:list .5in'>The <strong>ROOT</strong> application
     contains the server's main page. Any file that you add under <strong>/opt/tomcat/webapps/ROOT</strong>
     will be served.</li>
 <li class=MsoNormal style='mso-margin-top-alt:auto;mso-margin-bottom-alt:auto;
     mso-list:l2 level1 lfo18;tab-stops:list .5in'>The <strong>admin</strong>
     and <strong>manager</strong> applications are used for remote
     management.<span style='mso-spacerun:yes'>     </span></li>
 <li class=MsoNormal style='mso-margin-top-alt:auto;mso-margin-bottom-alt:auto;
     mso-list:l2 level1 lfo18;tab-stops:list .5in'>The <strong>servlets-examples</strong>
     and <strong>jsp-examples</strong> should probably be removed from a
     production server, to minimize security exposure. You can do this from the
     manager application or by deleting those directories from <strong>/opt/tomcat/webapps</strong>.</li>
 <li class=MsoNormal style='mso-margin-top-alt:auto;mso-margin-bottom-alt:auto;
     mso-list:l2 level1 lfo18;tab-stops:list .5in'>The <strong>tomcat-docs,
     balancer </strong>and <strong>webdav</strong> applications are probably
     harmless, but can also be removed if you want. </li>
</ul>

<p style='tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt'><span
style='font-size:18.0pt'>- <b style='mso-bidi-font-weight:normal'>Configure
Apache/Tomcat architecture</b></span></p>

<p style='tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt'>It
use to be that the Apache server was much faster at serving up static html
pages then tomcat, so tomcat was installed inside Apache as a proxy. This isn   t
the case anymore, so it's better to install tomcat as a standalone process
especially since Apache runs on port 80 which requires root to run. Tomcat runs
on port 8080, so it doesn   t require root privileges at all. Some administrators
still require tomcat to run as a proxy so tomcat needs to be configured to be
an Apache proxy.<span style='mso-spacerun:yes'>   </span></p>

<h2 style='margin-bottom:.25in;tab-stops:8.75in'><span style='font-size:12.0pt;
font-weight:normal;mso-bidi-font-weight:bold'><a
href="http://www.unidata.ucar.edu/projects/THREDDS/tech/reference/TomcatBehindProxyServer.html">Proxy</a> configuration.<o:p></o:p></span></h2>

<h2 style='margin-bottom:.25in;tab-stops:8.75in'><span style='font-size:12.0pt;
font-weight:normal;mso-bidi-font-weight:bold'><a
href="http://tomcat.apache.org/tomcat-6.0-doc/proxy-howto.html">Here</a> are
the steps to set up a proxy configuration.<o:p></o:p></span></h2>

<pre><o:p>&nbsp;</o:p></pre><pre><o:p>&nbsp;</o:p></pre><pre><o:p>&nbsp;</o:p></pre><pre><o:p>&nbsp;</o:p></pre><pre><o:p>&nbsp;</o:p></pre></div>

</body>

</html>
